import{c as F,e as D,r as i,j as e,Q,V as Y,W as X,X as Z,bF as $,Y as J,h as x,aQ as me,I as g,D as G,ae as A,a2 as K,B as N,l as ee,a4 as ue,i as xe,a3 as ae,b as he,o as pe,m as q,q as ge,t as be,v as fe,x as je,T as ve,aY as Ne}from"./index-BLSLQMBf.js";import{T as _e,a as ye,b as V,c as B}from"./tabs-DvVXEx4S.js";import{T as we}from"./type-CEWgQnpA.js";import{C as E}from"./calendar-days-DeS4Cxds.js";import{S as Ce}from"./shield-DVrn6uZQ.js";import{T as Ee}from"./trending-up-CreaiblQ.js";import{A as Se,a as Me,b as ke,c as Pe,d as Ae,e as qe,f as Te,g as Fe,h as De}from"./alert-dialog-CyCTn1Rm.js";import{P as T}from"./plus-circle-BQpYhEhU.js";import{T as Ge}from"./trending-down-DypAu7ES.js";import{P as Ie}from"./pen-square-DjD69RmB.js";import{S as ze}from"./shield-check-DxPyxv9d.js";const H=F("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),U=F("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),se=F("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Le=({isOpen:a,onClose:n,onSave:f,equipmentData:s,isLoading:d})=>{const{toast:c}=D(),[o,h]=i.useState({nome_equipamento:"",marca:"",modelo:"",numero_serie:"",data_compra:"",valor_compra:"",vida_util_anos:"",seguradora:"",numero_apolice:"",link_nota_fiscal:""});i.useEffect(()=>{h(s?{nome_equipamento:s.nome_equipamento||"",marca:s.marca||"",modelo:s.modelo||"",numero_serie:s.numero_serie||"",data_compra:s.data_compra?s.data_compra.split("T")[0]:"",valor_compra:s.valor_compra||"",vida_util_anos:s.vida_util_anos||"",seguradora:s.seguradora||"",numero_apolice:s.numero_apolice||"",link_nota_fiscal:s.link_nota_fiscal||""}:{nome_equipamento:"",marca:"",modelo:"",numero_serie:"",data_compra:"",valor_compra:"",vida_util_anos:"",seguradora:"",numero_apolice:"",link_nota_fiscal:""})},[s,a]);const l=m=>{const{name:t,value:u}=m.target;h(b=>({...b,[t]:u}))},p=m=>{if(m.preventDefault(),!o.nome_equipamento||!o.valor_compra||!o.data_compra||!o.vida_util_anos){c({title:"Campos Obrigatórios",description:"Nome, Valor da Compra, Data da Compra e Vida Útil são obrigatórios.",variant:"destructive"});return}f(o)},j=new Date().toISOString().split("T")[0];return e.jsx(Q,{open:a,onOpenChange:n,children:e.jsxs(Y,{className:"sm:max-w-[600px] shadow-2xl border-border",children:[e.jsxs(X,{children:[e.jsxs(Z,{className:"text-2xl font-bold text-foreground flex items-center",children:[e.jsx($,{className:"w-7 h-7 mr-3 text-customPurple"}),s?"Editar Equipamento":"Adicionar Novo Equipamento"]}),e.jsx(J,{className:"text-muted-foreground",children:s?"Atualize os detalhes do seu equipamento.":"Preencha os detalhes do seu novo equipamento."})]}),e.jsxs("form",{onSubmit:p,className:"grid gap-6 py-4 max-h-[70vh] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-muted-foreground/50 scrollbar-track-transparent",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"nome_equipamento",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(me,{className:"w-4 h-4 mr-2 text-customPurple"})," Nome do Equipamento*"]}),e.jsx(g,{id:"nome_equipamento",name:"nome_equipamento",value:o.nome_equipamento,onChange:l,placeholder:"Ex: Câmera Sony A7IV",required:!0,className:"bg-input border-border focus:border-customPurple"})]}),e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"marca",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(we,{className:"w-4 h-4 mr-2 text-customPurple"})," Marca"]}),e.jsx(g,{id:"marca",name:"marca",value:o.marca,onChange:l,placeholder:"Ex: Sony",className:"bg-input border-border focus:border-customPurple"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"modelo",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx($,{className:"w-4 h-4 mr-2 text-customPurple"})," Modelo"]}),e.jsx(g,{id:"modelo",name:"modelo",value:o.modelo,onChange:l,placeholder:"Ex: ILCE-7M4",className:"bg-input border-border focus:border-customPurple"})]}),e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"numero_serie",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(H,{className:"w-4 h-4 mr-2 text-customPurple"})," Número de Série"]}),e.jsx(g,{id:"numero_serie",name:"numero_serie",value:o.numero_serie,onChange:l,placeholder:"Ex: SN123456789",className:"bg-input border-border focus:border-customPurple"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"data_compra",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(E,{className:"w-4 h-4 mr-2 text-customPurple"})," Data da Compra*"]}),e.jsx(g,{id:"data_compra",name:"data_compra",type:"date",value:o.data_compra,onChange:l,required:!0,className:"bg-input border-border focus:border-customPurple",max:j})]}),e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"valor_compra",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(G,{className:"w-4 h-4 mr-2 text-customPurple"})," Valor da Compra (R$)*"]}),e.jsx(g,{id:"valor_compra",name:"valor_compra",type:"number",step:"0.01",value:o.valor_compra,onChange:l,placeholder:"Ex: 15000.00",required:!0,className:"bg-input border-border focus:border-customPurple"})]}),e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"vida_util_anos",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(E,{className:"w-4 h-4 mr-2 text-customPurple"})," Vida Útil (Anos)*"]}),e.jsx(g,{id:"vida_util_anos",name:"vida_util_anos",type:"number",value:o.vida_util_anos,onChange:l,placeholder:"Ex: 5",required:!0,className:"bg-input border-border focus:border-customPurple"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-3 flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 mr-2 text-customGreen"}),"Informações do Seguro (Opcional)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"seguradora",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(A,{className:"w-4 h-4 mr-2 text-customGreen"})," Seguradora"]}),e.jsx(g,{id:"seguradora",name:"seguradora",value:o.seguradora,onChange:l,placeholder:"Ex: Porto Seguro",className:"bg-input border-border focus:border-customGreen"})]}),e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"numero_apolice",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(H,{className:"w-4 h-4 mr-2 text-customGreen"})," Número da Apólice"]}),e.jsx(g,{id:"numero_apolice",name:"numero_apolice",value:o.numero_apolice,onChange:l,placeholder:"Ex: AP123456789",className:"bg-input border-border focus:border-customGreen"})]})]})]}),e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"link_nota_fiscal",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(A,{className:"w-4 h-4 mr-2 text-customPurple"})," Link da Nota Fiscal (Opcional)"]}),e.jsx(g,{id:"link_nota_fiscal",name:"link_nota_fiscal",type:"url",value:o.link_nota_fiscal,onChange:l,placeholder:"https://...",className:"bg-input border-border focus:border-customPurple"})]})]}),e.jsxs(K,{className:"pt-6 border-t border-border",children:[e.jsx(N,{variant:"outline",onClick:n,disabled:d,className:"hover:border-destructive hover:text-destructive",children:"Cancelar"}),e.jsx(N,{type:"submit",onClick:p,disabled:d,className:"btn-custom-gradient",children:d?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Equipamento"})]})]})})},Re=({isOpen:a,onClose:n,onSave:f,isLoading:s})=>{const{toast:d}=D(),[c,o]=i.useState({data_manutencao:"",descricao_servico:"",custo:""}),[h,l]=i.useState(!1);i.useEffect(()=>{a&&(o({data_manutencao:"",descricao_servico:"",custo:""}),l(!1))},[a]);const p=t=>{const{name:u,value:b}=t.target;o(y=>({...y,[u]:b}))},j=t=>{if(t.preventDefault(),!c.data_manutencao||!c.descricao_servico){d({title:"Campos Obrigatórios",description:"Data da Manutenção e Serviço Realizado são obrigatórios.",variant:"destructive"});return}if(h&&(!c.custo||parseFloat(c.custo)<=0)){d({title:"Custo Inválido",description:"Para lançar como despesa, o custo deve ser maior que zero.",variant:"destructive"});return}const u={...c,custo:c.custo?parseFloat(c.custo):null};f(u,h)},m=new Date().toISOString().split("T")[0];return e.jsx(Q,{open:a,onOpenChange:n,children:e.jsxs(Y,{className:"sm:max-w-[480px] bg-card shadow-2xl border-border",children:[e.jsxs(X,{children:[e.jsxs(Z,{className:"text-2xl font-bold text-foreground flex items-center",children:[e.jsx(se,{className:"w-7 h-7 mr-3 text-customGreen"}),"Adicionar Manutenção"]}),e.jsx(J,{className:"text-muted-foreground",children:"Registre os detalhes da manutenção realizada no equipamento."})]}),e.jsxs("form",{onSubmit:j,className:"grid gap-6 py-4",children:[e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"data_manutencao",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(E,{className:"w-4 h-4 mr-2 text-customGreen"})," Data da Manutenção*"]}),e.jsx(g,{id:"data_manutencao",name:"data_manutencao",type:"date",value:c.data_manutencao,onChange:p,required:!0,className:"bg-input border-border focus:border-customGreen",max:m})]}),e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"descricao_servico",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(A,{className:"w-4 h-4 mr-2 text-customGreen"})," Serviço Realizado*"]}),e.jsx(ue,{id:"descricao_servico",name:"descricao_servico",value:c.descricao_servico,onChange:p,placeholder:"Ex: Limpeza de sensor, troca de peça...",required:!0,className:"bg-input border-border focus:border-customGreen min-h-[100px]"})]}),e.jsxs("div",{children:[e.jsxs(x,{htmlFor:"custo",className:"flex items-center mb-1.5 text-muted-foreground",children:[e.jsx(G,{className:"w-4 h-4 mr-2 text-customGreen"})," Custo do Serviço (R$)"]}),e.jsx(g,{id:"custo",name:"custo",type:"number",step:"0.01",value:c.custo,onChange:p,placeholder:"Ex: 150.00",className:"bg-input border-border focus:border-customGreen"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(xe,{id:"launchAsExpense",checked:h,onCheckedChange:l,className:"data-[state=checked]:bg-customGreen data-[state=checked]:border-customGreen border-muted-foreground"}),e.jsxs(x,{htmlFor:"launchAsExpense",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 flex items-center text-muted-foreground",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 text-customGreen"})," Lançar como despesa no financeiro?"]})]})]}),e.jsxs(K,{className:"pt-6 border-t border-border",children:[e.jsx(N,{variant:"outline",onClick:n,disabled:s,className:"hover:border-destructive hover:text-destructive",children:"Cancelar"}),e.jsx(N,{type:"submit",onClick:j,disabled:s,className:"btn-custom-gradient bg-customGreen hover:bg-customGreen/90",children:s?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Manutenção"})]})]})})},W=({title:a,value:n,icon:f,description:s,colorClass:d="text-customPurple"})=>e.jsxs(ge,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300 border-l-4 border-customPurple dark:border-customGreen",children:[e.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium text-muted-foreground",children:a}),e.jsx(f,{className:`h-5 w-5 ${d}`})]}),e.jsxs(je,{children:[e.jsx("div",{className:`text-3xl font-bold ${d}`,children:n}),s&&e.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:s})]})]}),Oe=({equipment:a,onEdit:n,onDelete:f,onAddMaintenanceClick:s})=>{const{getEquipmentMaintenances:d,loading:c}=ae(),[o,h]=i.useState([]),[l,p]=i.useState(!0);i.useEffect(()=>{p(!0);const t=d(a.id);h(t),p(!1)},[a.id,d,c]);const j=t=>{if(!t)return"N/A";try{const u=new Date(t);if(isNaN(u.getTime())){const b=t.split("-");return b.length===3?`${b[2]}/${b[1]}/${b[0]}`:"Data inválida"}return new Intl.DateTimeFormat("pt-BR",{timeZone:"UTC"}).format(u)}catch{return"Data inválida"}},m=t=>t==null?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t);return e.jsx(q.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"gradient-border-card shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:e.jsxs("div",{className:"card-content-inner rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-5 bg-gradient-to-br from-card to-muted/30",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-foreground",children:a.nome_equipamento}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.marca," - ",a.modelo]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>n(a),className:"text-blue-500 hover:text-blue-700 hover:bg-blue-100 dark:hover:bg-blue-900/50 rounded-full",children:e.jsx(Ie,{className:"h-5 w-5"})}),e.jsxs(Se,{children:[e.jsx(Me,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full",children:e.jsx(ve,{className:"h-5 w-5"})})}),e.jsxs(ke,{children:[e.jsxs(Pe,{children:[e.jsx(Ae,{children:"Confirmar Exclusão"}),e.jsxs(qe,{children:['Tem certeza que deseja excluir o equipamento "',a.nome_equipamento,'"? Esta ação não pode ser desfeita.']})]}),e.jsxs(Te,{children:[e.jsx(Fe,{children:"Cancelar"}),e.jsx(De,{onClick:()=>f(a.id),className:"bg-red-500 hover:bg-red-600",children:"Excluir"})]})]})]})]})]})}),e.jsxs(_e,{defaultValue:"details",className:"w-full",children:[e.jsxs(ye,{className:"grid w-full grid-cols-2 bg-muted/50 rounded-none",children:[e.jsxs(V,{value:"details",className:"data-[state=active]:bg-customPurple/10 data-[state=active]:text-customPurple data-[state=active]:shadow-inner",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"})," Detalhes"]}),e.jsxs(V,{value:"maintenances",className:"data-[state=active]:bg-customGreen/10 data-[state=active]:text-customGreen data-[state=active]:shadow-inner",children:[e.jsx(se,{className:"w-4 h-4 mr-2"})," Manutenções"]})]}),e.jsxs(B,{value:"details",className:"p-5 space-y-3 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Valor Compra:"})," ",m(a.valor_compra)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Data Compra:"})," ",j(a.data_compra)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Depreciação Mensal:"})," ",m(a.depreciacao_mensal)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Vida Útil:"})," ",a.vida_util_anos||"N/A"," anos"]})]}),(a.seguradora||a.numero_apolice)&&e.jsxs("div",{className:"pt-3 mt-3 border-t border-border",children:[e.jsxs("h4",{className:"font-semibold text-foreground mb-1.5 flex items-center",children:[e.jsx(ze,{className:"w-4 h-4 mr-2 text-customGreen"})," Seguro"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Seguradora:"})," ",a.seguradora||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Apólice:"})," ",a.numero_apolice||"N/A"]})]})]})]}),e.jsxs(B,{value:"maintenances",className:"p-5",children:[e.jsxs(N,{onClick:()=>s(a.id),size:"sm",className:"mb-4 w-full btn-custom-secondary",children:[e.jsx(T,{className:"w-4 h-4 mr-2"})," Adicionar Manutenção"]}),l?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Carregando manutenções..."}):o.length>0?e.jsx("ul",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-muted-foreground/50 scrollbar-track-transparent",children:o.map(t=>e.jsxs("li",{className:"p-3 bg-muted/50 rounded-md shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[e.jsxs("span",{className:"font-semibold text-foreground flex items-center",children:[e.jsx(E,{className:"w-3 h-3 mr-1.5 text-customPurple"})," ",j(t.data_manutencao)]}),e.jsx("span",{className:"font-bold text-red-500",children:m(t.custo)})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:t.descricao_servico})]},t.id))}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma manutenção registrada."})]})]})]})})},Ke=()=>{const{toast:a}=D(),{equipments:n,addEquipment:f,updateEquipment:s,deleteEquipment:d,addMaintenance:c,addTransaction:o,refreshData:h,loading:l,user:p}=ae(),[j,m]=i.useState(!1),[t,u]=i.useState(null),[b,y]=i.useState(!1),[S,M]=i.useState(null),[I,_]=i.useState(!1);he();const re=i.useMemo(()=>n.reduce((r,v)=>r+(Number(v.valor_compra)||0),0),[n]),te=i.useMemo(()=>n.reduce((r,v)=>r+(Number(v.depreciacao_mensal)||0),0),[n]),z=r=>r==null?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r),L=()=>{u(null),m(!0)},oe=r=>{u(r),m(!0)},ne=async r=>{_(!0);try{await d(r),a({title:"Sucesso!",description:"Equipamento excluído."}),await h()}catch(v){a({title:"Erro ao excluir",description:v.message,variant:"destructive"})}finally{_(!1)}},le=async r=>{_(!0);const{vida_util_anos:v,valor_compra:C,...k}=r,w=parseFloat(C)||0,P=parseInt(v,10)||0;let R=0;P>0&&w>0&&(R=w/(P*12));const O={...k,valor_compra:w,vida_util_anos:P,depreciacao_mensal:R};try{t?(await s(t.id,O),a({title:"Sucesso!",description:"Equipamento atualizado."})):(await f(O),a({title:"Sucesso!",description:"Equipamento adicionado."})),m(!1),u(null),await h()}catch(de){a({title:"Erro ao salvar equipamento",description:de.message,variant:"destructive"})}finally{_(!1)}},ce=r=>{M(r),y(!0)},ie=async(r,v)=>{if(!S||!p){a({title:"Erro",description:"ID do equipamento ou usuário não encontrado.",variant:"destructive"});return}_(!0);try{if(await c({...r,equipamento_id:S,user_id:p.id})&&v&&r.custo&&parseFloat(r.custo)>0){const k=n.find(w=>w.id===S)?.nome_equipamento||"Equipamento";await o({tipo:"SAIDA",valor:parseFloat(r.custo),descricao:`Manutenção: ${r.descricao_servico} (${k})`,data:r.data_manutencao,status:"PAGO",category:"Manutenção de Equipamentos",user_id:p.id}),a({title:"Sucesso!",description:"Manutenção adicionada e despesa lançada."})}else a({title:"Sucesso!",description:"Manutenção adicionada."});y(!1),M(null),await h()}catch(C){a({title:"Erro ao salvar manutenção",description:C.message,variant:"destructive"})}finally{_(!1)}};return l&&n.length===0?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-150px)]",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(U,{className:"w-16 h-16 text-customPurple animate-bounce mb-4"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Carregando seus equipamentos..."})]})}):e.jsxs("div",{className:"container mx-auto p-4 md:p-6 lg:p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4 sm:mb-0",children:e.jsx("span",{className:"bg-gradient-to-r from-customPurple to-customGreen bg-clip-text text-transparent",children:"Meu Setup"})}),e.jsxs(N,{onClick:L,className:"btn-custom-gradient shadow-lg hover:opacity-90 transition-opacity",children:[e.jsx(T,{className:"w-5 h-5 mr-2"}),"Novo Equipamento"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsx(W,{title:"Investimento Total",value:z(re),icon:G,description:"Soma do valor de compra de todos os equipamentos.",colorClass:"text-customGreen"}),e.jsx(W,{title:"Depreciação Mensal Total",value:z(te),icon:Ge,description:"Soma da depreciação mensal de todos os equipamentos.",colorClass:"text-red-500"})]}),e.jsx(pe,{children:n.length>0?e.jsx(q.div,{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:n.map(r=>e.jsx(Oe,{equipment:r,onEdit:oe,onDelete:ne,onAddMaintenanceClick:ce},r.id))}):!l&&e.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"text-center py-12 bg-card border border-dashed border-border rounded-xl shadow-sm",children:[e.jsx(U,{className:"mx-auto mb-6 h-16 w-16 text-muted-foreground opacity-50"}),e.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-3",children:"Nenhum Equipamento Cadastrado"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Comece adicionando seus equipamentos para controlar valor, depreciação, seguro e manutenções."}),e.jsxs(N,{onClick:L,className:"btn-custom-gradient shadow-lg hover:opacity-90 transition-opacity",children:[e.jsx(T,{className:"w-5 h-5 mr-2"}),"Adicionar Primeiro Equipamento"]})]})}),e.jsx(Le,{isOpen:j,onClose:()=>{m(!1),u(null)},onSave:le,equipmentData:t,isLoading:I}),e.jsx(Re,{isOpen:b,onClose:()=>{y(!1),M(null)},onSave:ie,isLoading:I})]})};export{Ke as default};
