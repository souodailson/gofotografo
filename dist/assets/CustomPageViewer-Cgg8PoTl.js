import{j as e,ab as C,P as L,C as M,H as P,t as c,v as o,w as i,y as d,aq as S,M as E,I as m,a8 as T,B as q,aj as A,a7 as B,r,ak as I,l as j,e as z,s as U}from"./index-DHBNVHsv.js";import{M as V}from"./map-pin-CSRkdryr.js";const D=(s,t)=>{switch(s.type){case"h1":return e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight tracking-tighter mb-4 titulo-gradiente-animado",children:s.content.text},t);case"h2":return e.jsx("h2",{className:"text-3xl font-bold mt-8 mb-4",children:s.content.text},t);case"p":return e.jsx("p",{className:"mb-4 leading-relaxed",children:s.content.text},t);case"img":return e.jsx("img",{src:s.content.src,alt:s.content.alt||"",className:"my-6 rounded-lg shadow-md w-full object-cover"},t);default:return null}},p=({page:s})=>e.jsxs("article",{className:"max-w-4xl mx-auto",children:[e.jsxs("header",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight tracking-tighter mb-4 titulo-gradiente-animado",children:s.title}),e.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-1.5"})," Equipe GO."]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-1.5"})," ",L(new Date(s.updated_at),"dd MMM, yyyy",{locale:P})]})]})]}),s.cover_image_url&&e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:s.cover_image_url,alt:s.title,className:"w-full rounded-lg shadow-lg aspect-video object-cover"})}),e.jsx("div",{className:"prose dark:prose-invert max-w-none lg:prose-lg mx-auto",children:Array.isArray(s.content)&&s.content.map((t,a)=>D(t,a))})]}),F=({page:s})=>{const t=s.page_options||{};return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("header",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight tracking-tighter mb-4 titulo-gradiente-animado",children:s.title}),s.content?.find(a=>a.type==="p")?.content.text&&e.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:s.content.find(a=>a.type==="p").content.text})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(i,{children:"Informações de Contato"})}),e.jsxs(d,{className:"space-y-4",children:[t.phone&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(S,{className:"w-5 h-5 mt-1 text-primary"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Telefone"}),e.jsx("a",{href:`tel:${t.phone}`,className:"text-muted-foreground hover:text-primary",children:t.phone})]})]}),t.email&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(E,{className:"w-5 h-5 mt-1 text-primary"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Email"}),e.jsx("a",{href:`mailto:${t.email}`,className:"text-muted-foreground hover:text-primary",children:t.email})]})]}),t.address&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(V,{className:"w-5 h-5 mt-1 text-primary"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Endereço"}),e.jsx("p",{className:"text-muted-foreground",children:t.address})]})]})]})]}),t.map_embed_url&&e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(i,{children:"Nossa Localização"})}),e.jsx(d,{children:e.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:e.jsx("iframe",{src:t.map_embed_url,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})})]})]}),e.jsx("div",{children:e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(i,{children:"Envie uma Mensagem"})}),e.jsx(d,{children:e.jsxs("form",{className:"space-y-4",children:[e.jsx(m,{placeholder:"Seu nome"}),e.jsx(m,{type:"email",placeholder:"Seu email"}),e.jsx(m,{placeholder:"Assunto"}),e.jsx(T,{placeholder:"Sua mensagem",rows:5}),e.jsx(q,{type:"submit",className:"w-full",children:"Enviar Mensagem"})]})})]})})]})]})},H={standard:p,contact:F},J=({slug:s,isTutorial:t=!1})=>{const{slug:a}=A(),l=s||a,{settings:g}=B(),[n,f]=r.useState(null),[N,x]=r.useState(!0),[h,v]=r.useState(null);r.useEffect(()=>{l&&(async()=>{x(!0);const{data:u,error:k}=await U.from("custom_pages").select("*").eq("slug",l).eq("is_published",!0).single();k||!u?v("Página não encontrada ou não está disponível."):f(u),x(!1)})()},[l]);const b=g?.logo||"https://rouvkvcngmsquebokdyg.supabase.co/storage/v1/object/public/gofiles//favicon%20gofotografo.png",y=t?"/tutoriais":"/",w=t?"Voltar para Tutoriais":"Voltar para o Início";if(N)return e.jsx(I,{});const _=H[n?.template_name]||p;return e.jsxs("div",{className:"bg-background min-h-screen",children:[e.jsx("header",{className:"py-6 border-b sticky top-0 bg-background/80 backdrop-blur-sm z-10",children:e.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[e.jsxs(j,{to:y,className:"flex items-center gap-2 text-sm font-medium hover:text-primary",children:[e.jsx(z,{className:"w-4 h-4"}),w]}),e.jsx(j,{to:"/",children:e.jsx("img",{src:b,alt:"Logo",className:"h-8"})}),e.jsx("div",{className:"w-24"})]})}),e.jsx("main",{className:"container mx-auto px-4 py-12",children:h?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-4xl font-bold text-destructive",children:"Oops!"}),e.jsx("p",{className:"text-muted-foreground mt-4",children:h})]}):n&&e.jsx(_,{page:n})})]})};export{J as default};
