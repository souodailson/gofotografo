import{c as K,j as e,B as k,aD as ae,n as V,aU as ge,as as se,r,f as U,Y as fe,Z as xe,_ as O,$ as H,a0 as Q,a6 as Y,b4 as Z,I as R,a9 as oe,aC as pe,a8 as ve,aa as A,k as je,ae as we,u as re,m as be,X as ye,s as D,a7 as Ne,aM as G}from"./index-DHBNVHsv.js";import{r as J}from"./index-B6UikWoV.js";import{P as ke}from"./pen-square-BkMXMyrY.js";import{F as Ce}from"./file-plus-D5b-ayUz.js";import{A as Se,b as qe,c as _e,d as Te,e as Ie,f as De,g as Ee,h as Le}from"./alert-dialog-CA3sahhm.js";import{u as M}from"./useDebounce-BdiKl5Pp.js";import{G as ie}from"./grip-vertical-Cr0groAW.js";import"./index-Chjiymov.js";import"./index-CBcTJ0gs.js";const ze=K("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),Ae=K("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),We=K("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),Be=({isEditing:a,isSaving:s,onEditToggle:o,onSave:m,onCancel:n,onAddWidget:t,onAddBoard:c})=>e.jsxs("header",{className:"flex items-center justify-between mb-6 flex-wrap gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mesa de Trabalho"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:a?e.jsxs(e.Fragment,{children:[e.jsxs(k,{onClick:n,variant:"outline",disabled:s,children:[e.jsx(ae,{className:"w-4 h-4 mr-2"})," Cancelar"]}),e.jsxs(k,{onClick:m,disabled:s,children:[s?e.jsx(V,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Salvar Layout"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(k,{onClick:()=>t("nota"),variant:"outline",children:[e.jsx(We,{className:"w-4 h-4 mr-2"})," Nova Anotação"]}),e.jsxs(k,{onClick:()=>t("lista_tarefas"),variant:"outline",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"})," Nova Lista"]}),e.jsxs(k,{onClick:c,children:[e.jsx(se,{className:"w-4 h-4 mr-2"})," Novo Quadro"]}),e.jsx(k,{onClick:o,variant:"ghost",size:"icon",className:"ml-2",title:"Personalizar Layout",children:e.jsx(ke,{className:"w-5 h-5"})})]})})]}),Fe=[{id:"geral",title:"Produção Fotográfica Geral",description:"Ideal para fotógrafos que lidam com diferentes tipos de ensaio durante a semana.",columns:["Leads recebidos","Orçamentos enviados","Clientes confirmados","Pré-produção (checklist, contratos, etc.)","Ensaio realizado","Edição em andamento","Finalizado e entregue","Pós-venda / Reels / Avaliações"]},{id:"sazonal",title:"Campanha Sazonal (Ex: Natal)",description:"Para organizar campanhas de alta demanda com fluxo intenso.",columns:["Interessados","Confirmados / Agendados","A fotografar","A editar","Editado (aguardando aprovação)","Finalizado e entregue","Arquivar / Backup","Pós-venda (depoimento, upsell)"]},{id:"casamento",title:"Gestão de Casamentos",description:"Workflow completo por casal, com etapas longas e muitas entregas.",columns:["Contato inicial","Reunião agendada","Contrato e pagamento","Pré-wedding","Casamento realizado","Seleção das fotos","Álbum em produção","Álbum entregue / finalizado"]},{id:"marketing",title:"Conteúdo e Marketing Pessoal",description:"Para quem trabalha o Instagram, blog, YouTube, etc.",columns:["Ideias brutas","Roteirizado / estruturado","Em produção (gravando/editando)","Agendado / pronto para publicar","Publicado","Reaproveitar (corte, reels, etc.)"]},{id:"produtos_digitais",title:"Produtos Digitais / Mentorias",description:"Centralize o atendimento a fotógrafos e a venda de infoprodutos.",columns:["Interessados / leads","Conversa iniciada","Pagamento pendente","Aluno ativo","Suporte / acompanhamento","Finalizado","Feedback / depoimentos"]}],Pe=({isOpen:a,onOpenChange:s,onCreate:o})=>{const[m,n]=r.useState("initial"),[t,c]=r.useState(""),[i,b]=r.useState(!1),{toast:f}=U(),p=()=>{n("initial"),c(""),b(!1)},v=()=>{p(),s(!1)},j=async(d=null)=>{if(!t.trim()){f({title:"Nome inválido",description:"O nome do quadro não pode ser vazio.",variant:"destructive"});return}b(!0);try{const E=d?d.columns:[];await o(t,E),v()}catch{}finally{b(!1)}},y=()=>e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsx(H,{children:"Criar Novo Quadro"}),e.jsx(Q,{children:"Comece com um modelo pronto ou crie um quadro em branco."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[e.jsxs(k,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>n("templates"),children:[e.jsx(ze,{className:"w-6 h-6"}),e.jsx("span",{children:"Usar um Template"})]}),e.jsxs(k,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>n("custom"),children:[e.jsx(Ce,{className:"w-6 h-6"}),e.jsx("span",{children:"Criar Quadro em Branco"})]})]}),e.jsx(Y,{children:e.jsx(k,{variant:"ghost",onClick:v,children:"Cancelar"})})]}),T=()=>e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n("initial"),children:e.jsx(Z,{className:"w-5 h-5"})}),e.jsx(H,{children:"Escolha um Template"})]}),e.jsx(Q,{className:"pl-10",children:"Selecione um modelo para iniciar seu quadro com colunas pré-definidas."})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(R,{placeholder:"Dê um nome ao seu novo quadro...",value:t,onChange:d=>c(d.target.value),className:"mb-4",disabled:i}),e.jsx(oe,{className:"h-64 pr-4",children:e.jsx("div",{className:"space-y-2",children:Fe.map(d=>e.jsxs("button",{onClick:()=>j(d),disabled:i||!t.trim(),className:"w-full text-left p-3 border rounded-lg hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx("p",{className:"font-semibold",children:d.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]},d.id))})})]})]}),L=()=>e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n("initial"),children:e.jsx(Z,{className:"w-5 h-5"})}),e.jsx(H,{children:"Criar Quadro em Branco"})]}),e.jsx(Q,{className:"pl-10",children:"Isso criará um quadro vazio e um atalho na sua mesa de trabalho."})]}),e.jsx("div",{className:"py-4",children:e.jsx(R,{placeholder:"Ex: Planejamento de Viagem...",value:t,onChange:d=>c(d.target.value),onKeyPress:d=>d.key==="Enter"&&j(),disabled:i})}),e.jsxs(Y,{children:[e.jsx(k,{variant:"outline",onClick:v,disabled:i,children:"Cancelar"}),e.jsxs(k,{onClick:()=>j(),disabled:i||!t.trim(),children:[i?e.jsx(V,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Criar Quadro"]})]})]});return e.jsx(fe,{open:a,onOpenChange:s,children:e.jsxs(xe,{className:"sm:max-w-lg",onInteractOutside:d=>{i&&d.preventDefault()},children:[m==="initial"&&y(),m==="templates"&&T(),m==="custom"&&L()]})})},Re=({widget:a,onOpenChange:s,onConfirm:o})=>e.jsx(Se,{open:!!a,onOpenChange:s,children:e.jsxs(qe,{children:[e.jsxs(_e,{children:[e.jsx(Te,{children:"Tem certeza?"}),e.jsxs(Ie,{children:["Esta ação não pode ser desfeita. Isso excluirá permanentemente o widget",a?.tipo_widget==="link_quadro"?" e o quadro associado.":"."]})]}),e.jsxs(De,{children:[e.jsx(Ee,{children:"Cancelar"}),e.jsx(Le,{onClick:o,className:"bg-destructive hover:bg-destructive/90",children:"Excluir"})]})]})}),ee="Nova anotação...",Me=({content:a,onContentChange:s,autoFocus:o=!1})=>{const[m,n]=r.useState(a?.text||""),[t,c]=r.useState(!a?.text),i=M(m,500),b=r.useRef(!0),f=r.useRef(null);r.useEffect(()=>{o&&f.current&&(f.current.focus(),t&&f.current.select())},[o,t]),r.useEffect(()=>{if(b.current){b.current=!1;return}s({text:t?"":i},!0)},[i,s,t]);const p=()=>{t&&(n(""),c(!1))},v=()=>{m||c(!0)},j=t?ee:m;return e.jsx(ve,{ref:f,value:j,onChange:y=>n(y.target.value),onFocus:p,onBlur:v,placeholder:ee,className:`w-full h-full resize-none border-none focus:ring-0 bg-transparent text-sm p-3 ${t?"text-muted-foreground":""}`})},$e=({item:a,onToggle:s,onUpdate:o,onDelete:m,onAddNew:n,isLast:t,isSelected:c,onSelect:i,inputRef:b})=>{const[f,p]=r.useState(a.text),v=M(f,500);r.useEffect(()=>{v!==a.text&&o(a.id,v)},[v,a.text,a.id,o]);const j=y=>{y.key==="Enter"&&(y.preventDefault(),n(a.id)),y.key==="Backspace"&&f===""&&(y.preventDefault(),m(a.id,"up"))};return e.jsxs("div",{className:A("flex items-center gap-2 group py-1 border-b border-transparent",c&&"bg-blue-500/20 rounded-md"),onClick:()=>i(a.id),children:[e.jsx(je,{id:`todo-${a.id}`,checked:a.completed,onCheckedChange:()=>s(a.id),className:"ml-1"}),e.jsx(R,{ref:b,value:f,onChange:y=>p(y.target.value),onKeyDown:j,className:A("h-8 flex-grow text-sm border-none focus:ring-0 bg-transparent p-1","focus:bg-muted/50 rounded-md",a.completed?"line-through text-muted-foreground":"")})]})},Oe=({content:a,onContentChange:s,autoFocus:o=!1})=>{const[m,n]=r.useState(a?.title||"Lista de Tarefas"),[t,c]=r.useState(a?.items||[]),[i,b]=r.useState(new Set),f=r.useRef(null),p=r.useRef({});r.useEffect(()=>{o&&f.current&&(f.current.focus(),f.current.select())},[o]);const v=M(m,500),j=M(t,500),y=r.useRef(!0);r.useEffect(()=>{if(y.current){y.current=!1;return}s({title:v,items:j})},[v,j,s]);const T=l=>{c(l),s({title:m,items:l})},L=(l=null)=>{const h={id:we(),text:"",completed:!1};let g;if(l){const N=t.findIndex(C=>C.id===l);g=[...t.slice(0,N+1),h,...t.slice(N+1)]}else g=[...t,h];T(g),setTimeout(()=>{p.current[h.id]?.focus()},0)},d=l=>{const h=t.map(g=>g.id===l?{...g,completed:!g.completed}:g);T(h)},E=(l,h=null)=>{const g=t.findIndex(C=>C.id===l),N=t.filter(C=>C.id!==l);if(T(N),h&&N.length>0){let C;h==="up"&&g>0?C=g-1:N.length>g?C=g:C=N.length-1;const B=N[C]?.id;B&&setTimeout(()=>p.current[B]?.focus(),0)}},$=(l,h)=>{const g=t.map(N=>N.id===l?{...N,text:h}:N);T(g)},W=l=>{const h=new Set(i);h.has(l)?h.delete(l):h.add(l),b(h)},q=l=>{if((l.key==="Delete"||l.key==="Backspace")&&i.size>0){l.preventDefault();const h=t.filter(g=>!i.has(g.id));T(h),b(new Set)}};return e.jsxs("div",{className:"p-3 h-full flex flex-col",onKeyDown:q,tabIndex:-1,children:[e.jsx(R,{ref:f,value:m,onChange:l=>n(l.target.value),className:"text-md font-bold border-none focus:ring-0 bg-transparent p-1 mb-2"}),e.jsx(oe,{className:"flex-grow",children:e.jsx("div",{className:"space-y-0 pr-2",children:t.map((l,h)=>e.jsx($e,{item:l,onToggle:d,onUpdate:$,onDelete:E,onAddNew:L,isLast:h===t.length-1,isSelected:i.has(l.id),onSelect:W,inputRef:g=>p.current[l.id]=g},l.id))})}),e.jsx("button",{onClick:()=>L(),className:"mt-2 text-sm text-muted-foreground hover:text-foreground transition-colors text-left pl-8",children:"+ Adicionar tarefa"})]})},He="https://rouvkvcngmsquebokdyg.supabase.co/storage/v1/object/public/gofiles//fundo%20liquid%20gofotografo%20wihtout%20grain.jpg",Qe=({widget:a,isEditing:s,onDelete:o})=>{const m=re(),n=a.quadro,t=()=>{!s&&n?.id&&m(`/quadros/${n.id}`)},c=n?.imagem_fundo||He;return e.jsxs(be.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"h-full w-full rounded-lg shadow-lg overflow-hidden relative group cursor-pointer",onClick:t,children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-300 ease-in-out group-hover:scale-110",style:{backgroundImage:`url(${c})`}}),e.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/50 transition-colors"}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full p-4 text-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(se,{className:"w-6 h-6 opacity-80"}),s&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{variant:"destructive",size:"icon",className:"h-7 w-7",onClick:i=>{i.stopPropagation(),o()},children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("div",{className:"drag-handle p-1.5 bg-card/80 rounded-full cursor-grab active:cursor-grabbing",children:e.jsx(ie,{size:16,className:"text-foreground"})})]})]}),e.jsx("h3",{className:"font-bold text-lg break-words",children:n?.nome_quadro||"Quadro Removido"})]})]})};function Ge(a,s){let o;return function(...n){const t=()=>{clearTimeout(o),a(...n)};clearTimeout(o),o=setTimeout(t,s)}}const Ke=({widget:a,isEditing:s,autoFocus:o,onDelete:m,fetchWidgets:n})=>{const{toast:t}=U(),c=r.useMemo(()=>Ge(async(p,v)=>{try{const{error:j}=await D.from("mesa_widgets").update({conteudo:v}).eq("id",p);if(j)throw j}catch(j){t({title:"Erro ao salvar widget",description:j.message,variant:"destructive"}),n&&n()}},1e3),[t,n]),i=(p,v)=>{c(p,v)},b=()=>{switch(a.tipo_widget){case"nota":return e.jsx(Me,{content:a.conteudo,onContentChange:p=>i(a.id,p),autoFocus:o});case"lista_tarefas":return e.jsx(Oe,{content:a.conteudo,onContentChange:p=>i(a.id,p),autoFocus:o});case"link_quadro":return e.jsx(Qe,{widget:a});default:return e.jsx("div",{children:"Widget desconhecido"})}},f=a.tipo_widget==="nota"||a.tipo_widget==="lista_tarefas";return e.jsxs("div",{className:"h-full w-full relative group",children:[s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m,className:"absolute -top-2 -left-2 z-50 bg-destructive text-destructive-foreground rounded-full w-6 h-6 flex items-center justify-center shadow-lg cursor-pointer border-2 border-white opacity-0 group-hover:opacity-100 transition-all duration-200 hover:scale-110","aria-label":"Remover widget",children:e.jsx(ae,{className:"w-3 h-3"})}),e.jsx("div",{className:"drag-handle absolute -top-2 -right-2 p-1 bg-gray-500 text-white rounded-full cursor-grab active:cursor-grabbing z-50 opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-gray-600 hover:scale-110 shadow-lg w-6 h-6 flex items-center justify-center",children:e.jsx(ie,{size:12,className:"drop-shadow"})})]}),e.jsx("div",{className:A("relative rounded-xl shadow-lg border-border/10 overflow-hidden flex flex-col h-full w-full",f?"bg-white/10 dark:bg-black/10 backdrop-blur-sm border":"bg-card border"),children:e.jsx("div",{className:A("h-full w-full",s&&"no-drag"),children:b()})})]})},Ve=r.memo(Ke,(a,s)=>a.widget.id===s.widget.id&&a.isEditing===s.isEditing&&a.autoFocus===s.autoFocus&&a.widget.conteudo===s.widget.conteudo),Ue=J.WidthProvider(J.Responsive),Xe="https://rouvkvcngmsquebokdyg.supabase.co/storage/v1/object/public/gofiles//fundo%20liquid%20gofotografo%20wihtout%20grain.jpg",te=a=>{const s=a.lg||[];if(!s.length)return{x:0,y:0};const o=new Set,m=12;s.forEach(t=>{for(let c=t.y;c<t.y+t.h;c++)for(let i=t.x;i<t.x+t.w;i++)o.add(`${i},${c}`)});let n=0;for(;;){for(let t=0;t<=m-4;t++)if(!o.has(`${t},${n}`))return{x:t,y:n};n++}},it=({setSidebarCollapsed:a})=>{const{user:s}=Ne(),{toast:o}=U(),m=re(),[n,t]=r.useState([]),[c,i]=r.useState({}),[b,f]=r.useState({}),[p,v]=r.useState(!0),[j,y]=r.useState(!1),[T,L]=r.useState(!1),[d,E]=r.useState(!1),[$,W]=r.useState(!1),[q,l]=r.useState(null),[h,g]=r.useState(null);r.useEffect(()=>{a&&a(!0)},[a]);const N=r.useCallback(async()=>{if(s){v(!0);try{const{data:u,error:w}=await D.from("mesa_widgets").select("*, quadro:quadros(id, nome_quadro, imagem_fundo)").eq("user_id",s.id);if(w)throw w;const x=u||[];t(x);const S={lg:x.map(_=>({i:_.id.toString(),..._.posicao||{x:0,y:1/0,w:4,h:4}}))};i(S),f(G.cloneDeep(S))}catch(u){o({title:"Erro ao buscar widgets",description:u.message,variant:"destructive"})}finally{v(!1),setTimeout(()=>y(!0),100)}}},[s,o]);r.useEffect(()=>{s&&N()},[s,N]);const C=()=>{d||f(G.cloneDeep(c)),E(!d)},B=()=>{i(b),E(!1)},ne=async()=>{W(!0);const w=(c.lg||[]).map(x=>{const{i:S,x:_,y:I,w:F,h:P}=x;return D.from("mesa_widgets").update({posicao:{x:_,y:I,w:F,h:P}}).eq("id",S)}).filter(Boolean);try{await Promise.all(w),f(G.cloneDeep(c)),E(!1),o({title:"Layout Salvo!",description:"Sua mesa de trabalho foi atualizada."})}catch(x){o({title:"Erro ao salvar layout",description:x.message,variant:"destructive"}),i(b)}finally{W(!1)}},le=(u,w)=>{j&&d&&i(w)},de=async u=>{try{const w=te(c);let x={user_id:s.id,tipo_widget:u,posicao:{x:w.x,y:w.y,w:4,h:4},conteudo:{}};u==="nota"?(x.conteudo={text:""},x.posicao.h=4):u==="lista_tarefas"&&(x.conteudo={title:"Nova lista",items:[]},x.posicao.h=6);const{data:S,error:_}=await D.from("mesa_widgets").insert(x).select("*, quadro:quadros(id, nome_quadro, imagem_fundo)").single();if(_)throw _;t(I=>[...I,S]),i(I=>({...I,lg:[...I.lg||[],{i:S.id.toString(),...x.posicao}]})),g(S.id),o({title:"Widget adicionado!"})}catch(w){o({title:"Erro ao adicionar widget",description:w.message,variant:"destructive"})}},ce=async(u,w=[])=>{try{const{data:x,error:S}=await D.from("quadros").insert({nome_quadro:u,user_id:s.id,imagem_fundo:Xe}).select().single();if(S)throw S;if(w.length>0){const z=w.map((me,he)=>({quadro_id:x.id,user_id:s.id,titulo_coluna:me,ordem:he})),{error:X}=await D.from("quadro_colunas").insert(z);if(X)throw X}const _=te(c),I={user_id:s.id,tipo_widget:"link_quadro",link_quadro_id:x.id,posicao:{x:_.x,y:_.y,w:4,h:3},conteudo:{nome_quadro:x.nome_quadro}},{data:F,error:P}=await D.from("mesa_widgets").insert(I).select("*, quadro:quadros(id, nome_quadro, imagem_fundo)").single();if(P)throw P;t(z=>[...z,F]),i(z=>({...z,lg:[...z.lg||[],{i:F.id.toString(),...I.posicao}]})),o({title:"Sucesso!",description:`Quadro "${u}" criado.`}),m(`/quadros/${x.id}`)}catch(x){throw o({title:"Erro ao criar quadro",description:x.message,variant:"destructive"}),x}},ue=async()=>{if(q)try{await D.from("mesa_widgets").delete().eq("id",q.id),t(u=>u.filter(w=>w.id!==q.id)),i(u=>({...u,lg:u.lg.filter(w=>w.i!==q.id.toString())})),q.tipo_widget==="link_quadro"&&q.link_quadro_id?(await D.from("quadros").delete().eq("id",q.link_quadro_id),o({title:"Quadro e atalho removidos!"})):o({title:"Widget removido!"})}catch(u){o({title:"Erro ao remover",description:u.message,variant:"destructive"})}finally{l(null)}};return r.useEffect(()=>{if(h){const u=setTimeout(()=>g(null),100);return()=>clearTimeout(u)}},[h]),e.jsxs("div",{className:"p-4 sm:p-6 h-full flex flex-col",children:[e.jsx(Be,{isEditing:d,isSaving:$,onEditToggle:C,onSave:ne,onCancel:B,onAddWidget:de,onAddBoard:()=>L(!0)}),e.jsx("div",{className:A("flex-grow overflow-auto relative boards-container",d&&"modo-edicao-ativo"),children:p?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(V,{className:"w-12 h-12 animate-spin text-primary"})}):j?e.jsx(Ue,{layouts:c,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:30,onLayoutChange:le,isDraggable:d,isResizable:d,draggableHandle:".drag-handle",compactType:"vertical",margin:[16,16],containerPadding:[16,16],useCSSTransforms:!0,transformScale:1,draggableCancel:".no-drag",resizeHandle:d?void 0:e.jsx("span",{className:"react-resizable-handle hidden"}),style:{transition:"all 0.3s ease-in-out"},children:n.map(u=>e.jsx("div",{className:A("group transition-all duration-300 ease-in-out",d?"hover:scale-105 hover:z-20 hover:shadow-2xl hover:shadow-blue-500/20":"hover:scale-103 hover:z-10 hover:shadow-lg"),children:e.jsx(Ve,{widget:u,isEditing:d,autoFocus:u.id===h,onDelete:()=>l(u),fetchWidgets:N})},u.id))}):null}),e.jsx(Pe,{isOpen:T,onOpenChange:L,onCreate:ce}),e.jsx(Re,{widget:q,onOpenChange:()=>l(null),onConfirm:ue})]})};export{it as default};
