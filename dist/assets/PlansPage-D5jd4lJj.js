import{c as D,r as j,e as U,a3 as z,j as e,m as f,B as N,a as I,aD as V}from"./index-DosJhT9z.js";import{B as Z}from"./badge-Bl6V8i8p.js";import{S as K}from"./star-0Oe_L10f.js";import{S as W}from"./shield-check-sf02tfQl.js";import{P as X}from"./percent-C5AvgnAv.js";const H=D("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),Q=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var T="https://js.stripe.com/v3",J=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var ee=function(){for(var r=document.querySelectorAll('script[src^="'.concat(T,'"]')),o=0;o<r.length;o++){var a=r[o];if(J.test(a.src))return a}return null},A=function(r){var o="",a=document.createElement("script");a.src="".concat(T).concat(o);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(a),a},te=function(r,o){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"3.4.1",startTime:o})},u=null,h=null,g=null,re=function(r){return function(){r(new Error("Failed to load Stripe.js"))}},ae=function(r,o){return function(){window.Stripe?r(window.Stripe):o(new Error("Stripe.js not available"))}},oe=function(r){return u!==null?u:(u=new Promise(function(o,a){if(typeof window>"u"||typeof document>"u"){o(null);return}if(window.Stripe){o(window.Stripe);return}try{var i=ee();if(!(i&&r)){if(!i)i=A(r);else if(i&&g!==null&&h!==null){var l;i.removeEventListener("load",g),i.removeEventListener("error",h),(l=i.parentNode)===null||l===void 0||l.removeChild(i),i=A(r)}}g=ae(o,a),h=re(a),i.addEventListener("load",g),i.addEventListener("error",h)}catch(p){a(p);return}}),u.catch(function(o){return u=null,Promise.reject(o)}))},ie=function(r,o,a){if(r===null)return null;var i=r.apply(void 0,o);return te(i,a),i},m,k=!1,q=function(){return m||(m=oe(null).catch(function(r){return m=null,Promise.reject(r)}),m)};Promise.resolve().then(function(){return q()}).catch(function(s){k||console.warn(s)});var se=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];k=!0;var i=Date.now();return q().then(function(l){return ie(l,o,i)})};const R=[{id:"starter",name:"PLANO STARTER",tagline:"O impulso que você precisa para decolar.",description:"Ideal para fotógrafos que estão começando e querem transformar o talento em um negócio organizado desde o primeiro dia.",priceMonthly:"19,90",priceYearlyOriginal:"199,00",priceYearlyDiscounted:"199,00",yearlySavings:"Pague por 10 meses e use por 12. São 2 meses de presente!",stripePriceIdMonthly:"price_1Ra8ilDORq3T75OLnBy3ZCJb",stripePriceIdYearly:"price_1Ra8ilDORq3T75OLPRPssWYq",features:["Agenda de Clientes Ilimitada","Gestão de Oportunidades (Funil de Vendas)","Controle de Caixa Simplificado","Suporte dedicado via e-mail","Teste grátis por 7 dias, sem pedir seu cartão"],tier:1,promoActive:!1,exclusiveBonuses:[]},{id:"professional",name:"PLANO PROFISSIONAL",tagline:"Perfeito para otimizar o fluxo de trabalho.",description:"Para fotógrafos que buscam economizar horas preciosas com automações e apresentar uma imagem mais profissional.",priceMonthly:"39,90",priceYearlyOriginal:"479,88",priceYearlyDiscounted:"239,94",yearlySavings:"Economize mais de 50% e tenha suporte prioritário.",stripePriceIdMonthly:"price_1Ra8igDORq3T75OLQuCI0dDO",stripePriceIdYearly:"price_1RanKjDORq3T75OL58V0uwpl",recommended:!0,features:["Tudo do plano Starter, e mais:","Controle Financeiro Avançado","Agenda Inteligente com Google Calendar","Automações e Lembretes","Faça o upload da sua logomarca","Subdomínio exclusivo (ex: seuestudio.dominio.com)","Anotações Rápidas nos cards","Precifique - sistema inteligente para criar pacotes, serviços e produtos","Reserva Inteligente - Crie reservas inteligentes e tenha mais dinheiro","Suporte prioritário via e-mail e chat"],tier:2,promoActive:!0,exclusiveBonuses:[]},{id:"studio_pro",name:"PLANO STUDIO PRO",tagline:"A plataforma definitiva para escalar seu negócio.",description:"Para estúdios e fotógrafos de alto volume que precisam de ferramentas robustas para gerenciar equipes e encantar clientes.",priceMonthly:"99,90",priceYearlyOriginal:"1198,80",priceYearlyDiscounted:"599,40",yearlySavings:"A melhor oferta para o seu estúdio, com 50% de desconto e atendimento prioritario.",stripePriceIdMonthly:"price_1Ra8iYDORq3T75OLCDN9fPpj",stripePriceIdYearly:"price_1RanLoDORq3T75OLacBvLO9R",features:["Tudo do plano Profissional, e mais:","Dashboard Financeiro Completo","Análise de Desempenho (Analytics)","Gestão de Equipe e Colaboradores","Precifique - sistema inteligente para criar pacotes, serviços e produtos","Reserva Inteligente - Crie reservas inteligentes e tenha mais dinheiro","Suporte Premium 7 dias por semana"],tier:3,promoActive:!0,exclusiveBonuses:["Scripts de atendimento persuasivos","+10 Contratos blindados para vários nichos"]}],ne="pk_live_51Ra7fNDORq3T75OLVpM1IkXngTngB7FSAeOIVU1UAS48EPUqAPMLvxOMoyMBw5P8y9F4MyV8K1VhCRI0lXepLnZD00caLRy39Q",le=se(ne),fe=({setActiveTab:s})=>{const[r,o]=j.useState("monthly"),{toast:a}=U(),{settings:i,user:l,refreshData:p,planStatus:y}=z(),[O,v]=j.useState(!1);j.useEffect(()=>{const t=new URLSearchParams(window.location.search);if(t.get("status")==="success"&&t.get("session_id")){a({title:"Pagamento Bem-Sucedido!",description:"Seu plano foi atualizado. Obrigado!",variant:"success",duration:7e3}),p();const c=window.location.pathname;window.history.replaceState({},document.title,c)}else if(t.get("status")==="cancelled"){a({title:"Pagamento Cancelado",description:"Você cancelou o processo de pagamento. Seu plano não foi alterado.",variant:"warning",duration:7e3});const c=window.location.pathname;window.history.replaceState({},document.title,c)}},[a,p]);const _=async(t,c)=>{if(!c){a({title:"Integração com Pagamento Incompleta",description:"A configuração de pagamento para este plano ainda não foi finalizada.",variant:"destructive",duration:7e3}),console.error("Stripe Publishable Key or Price ID is missing.");return}if(!l||!l.id){a({title:"Erro",description:"Usuário não autenticado.",variant:"destructive"});return}v(!0);const n=await le;if(!n){a({title:"Erro no Stripe",description:"Não foi possível carregar o Stripe.",variant:"destructive"}),v(!1);return}try{const{error:d}=await n.redirectToCheckout({lineItems:[{price:c,quantity:1}],mode:"subscription",successUrl:`${window.location.origin}${window.location.pathname}?session_id={CHECKOUT_SESSION_ID}&plan_id=${t}&status=success`,cancelUrl:`${window.location.origin}${window.location.pathname}?plan_id=${t}&status=cancelled`,customerEmail:l.email,clientReferenceId:l.id});d&&(console.error("Stripe Checkout error:",d),a({title:"Erro no Checkout",description:d.message,variant:"destructive"}))}catch(d){console.error("Error redirecting to Stripe Checkout:",d),a({title:"Erro Inesperado",description:"Ocorreu um problema ao tentar iniciar o pagamento.",variant:"destructive"})}finally{v(!1)}},F=y?y.toLowerCase():i?.current_plan_id?i.current_plan_id.toLowerCase():"trial",C=R.find(t=>t.id===F),E=C?C.tier:0,G=(t=>t?t.toLowerCase():"trial")(y);return e.jsxs("div",{className:"container mx-auto py-12 px-4 md:px-6",children:[e.jsxs(f.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-customPurple to-customGreen mb-3",children:"PLANOS"}),e.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Da sua primeira cliente ao seu estúdio de sucesso, temos o plano perfeito para cada etapa da sua carreira. Organize-se, profissionalize-se e ganhe mais tempo!"})]}),e.jsx("div",{className:"flex justify-center mb-10",children:e.jsxs("div",{className:"inline-flex rounded-lg shadow-sm bg-background border border-border p-1",children:[e.jsx(N,{onClick:()=>o("monthly"),variant:r==="monthly"?"default":"ghost",className:`px-6 py-2 rounded-md transition-all duration-200 ease-in-out ${r==="monthly"?"btn-custom-gradient text-white":"text-muted-foreground hover:bg-muted/50"}`,children:"Mensal"}),e.jsxs(N,{onClick:()=>o("yearly"),variant:r==="yearly"?"default":"ghost",className:`px-6 py-2 rounded-md transition-all duration-200 ease-in-out relative ${r==="yearly"?"btn-custom-gradient text-white":"text-muted-foreground hover:bg-muted/50"}`,children:["Anual",e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-semibold px-2 py-0.5 rounded-full transform rotate-12",children:"ECONOMIZE!"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:R.map((t,c)=>{const n=t.id===G,d=t.tier>E,B=t.tier<E,b=r==="monthly"?t.stripePriceIdMonthly:t.stripePriceIdYearly,M=r==="monthly"?t.priceMonthly:t.promoActive?(parseFloat(t.priceYearlyDiscounted)/12).toFixed(2).replace(".",","):(parseFloat(t.priceYearlyOriginal)/12).toFixed(2).replace(".",","),$=r==="yearly"?t.promoActive?`R$ ${t.priceYearlyDiscounted}`:`R$ ${t.priceYearlyOriginal}`:"";let x="Escolher Plano",Y=()=>_(t.id,b),w=O||!b,L="default";return n?(x="Seu Plano Atual",w=!0,L="outline"):d?x="Fazer Upgrade":B&&(x="Fazer Downgrade",w=!0),e.jsxs(f.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:c*.1,ease:"easeOut"},className:`bg-card rounded-2xl shadow-2xl border ${n?"border-customPurple dark:border-customGreen ring-2 ring-customPurple dark:ring-customGreen":t.recommended?"border-customGreen":"border-border"} p-8 flex flex-col relative overflow-hidden`,children:[t.recommended&&!n&&e.jsxs("div",{className:"absolute top-0 right-0 bg-customGreen text-white text-xs font-bold px-4 py-1 rounded-bl-lg flex items-center",children:[e.jsx(K,{className:"w-3 h-3 mr-1 fill-current"})," RECOMENDADO"]}),n&&e.jsxs("div",{className:"absolute top-0 right-0 bg-customPurple dark:bg-customGreen text-white text-xs font-bold px-4 py-1 rounded-bl-lg flex items-center",children:[e.jsx(W,{className:"w-3 h-3 mr-1 fill-current"})," PLANO ATUAL"]}),r==="yearly"&&t.promoActive&&e.jsxs(Z,{variant:"destructive",className:"absolute top-10 right-3 transform -translate-y-1/2 bg-red-500 text-white py-1 px-2.5",children:[e.jsx(X,{className:"w-3 h-3 mr-1"})," 50% OFF"]}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider text-customPurple dark:text-customGreen mb-1",children:t.name}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:t.tagline}),e.jsxs("div",{className:"mb-6",children:[r==="yearly"&&t.promoActive&&e.jsxs("del",{className:"text-xl text-muted-foreground/70 block",children:["R$ ",(parseFloat(t.priceYearlyOriginal)/12).toFixed(2).replace(".",",")]}),e.jsxs("span",{className:"text-4xl font-extrabold text-foreground",children:["R$ ",M]}),e.jsx("span",{className:"text-muted-foreground",children:" /mês"}),r==="yearly"&&e.jsxs("p",{className:"text-xs text-customGreen font-medium mt-1",children:["Cobrado ",$," anualmente",t.promoActive&&e.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(Preço original: R$ ",t.priceYearlyOriginal,")"]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 h-16",children:t.description}),e.jsx("ul",{className:"space-y-3 text-sm mb-8",children:t.features.map((S,P)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(I,{className:"w-5 h-5 text-customGreen mr-3 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:S})]},P))}),t.id==="studio_pro"&&r==="yearly"&&t.exclusiveBonuses&&t.exclusiveBonuses.length>0&&e.jsxs("div",{className:"my-6 pt-4 border-t border-border",children:[e.jsxs("h4",{className:"text-sm font-semibold text-customPurple dark:text-customGreen mb-3 flex items-center",children:[e.jsx(V,{className:"w-4 h-4 mr-2"})," Bônus Exclusivos Inclusos:"]}),e.jsx("ul",{className:"space-y-2 text-sm",children:t.exclusiveBonuses.map((S,P)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(I,{className:"w-4 h-4 text-yellow-500 mr-2 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:S})]},P))})]})]}),e.jsxs(N,{onClick:Y,disabled:w,className:`w-full py-3 text-base font-semibold shadow-lg transition-transform duration-150 ease-in-out hover:scale-105 
                  ${n?"bg-muted text-muted-foreground cursor-not-allowed":"btn-custom-gradient text-white"} 
                  ${L==="outline"&&!n?"border-primary text-primary hover:bg-primary/10":""}
                `,children:[O&&!n?e.jsx(f.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}):t.id==="starter"?e.jsx(Q,{className:"w-5 h-5 mr-2"}):e.jsx(H,{className:"w-5 h-5 mr-2"}),x]}),r==="yearly"&&t.yearlySavings&&e.jsx("p",{className:"text-xs text-center mt-4 text-customGreen",children:t.yearlySavings}),!b&&!n&&e.jsx("p",{className:"text-xs text-center mt-3 text-red-500",children:"Configuração de pagamento pendente para este plano/ciclo."})]},t.id)})}),e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-16 text-center",children:[e.jsxs("p",{className:"text-muted-foreground",children:["Dúvidas? ",e.jsx("a",{href:"mailto:suporte@gofotografo.com",className:"text-customPurple dark:text-customGreen font-medium hover:underline",children:"Fale conosco"}),"."]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Todos os planos incluem atualizações contínuas e acesso a novas funcionalidades conforme são lançadas."})]})]})};export{fe as default};
