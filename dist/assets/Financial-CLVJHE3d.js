import{ak as He,c as Te,D as Ke,j as e,m as M,C as Ze,aV as Fe,R as je,K as Xe,N as ea,B as P,O as aa,P as we,T as Pe,ab as L,J as Q,a3 as Z,e as ge,r as p,aW as Ne,al as O,aX as ve,aY as Le,a7 as sa,Q as ta,V as ra,W as na,X as oa,Y as la,h as q,I as V,Z as ue,_ as xe,$ as pe,a0 as he,a1 as U,i as ca,az as da,o as ke,q as ia,t as ma,v as ua,x as xa,aE as pa,aN as ha,b as ga,ax as De,p as fa}from"./index-BNk_ELpO.js";import{T as fe}from"./trending-up-CL8qpMM0.js";import{T as ye}from"./trending-down-BCuj4m79.js";import{F as ya}from"./filter-onmXiaBc.js";import{A as Re,b as Oe,c as Be,d as Me,e as Ie,f as Ge,g as ze,h as qe}from"./alert-dialog-B6TPqobf.js";import{T as ba,a as ja,b as wa,c as Na}from"./tooltip-ctBIbYYp.js";import{H as va}from"./hourglass-C-1bxbdf.js";import{M as ka}from"./more-vertical-C3eOQ5JG.js";import{P as Ye}from"./pen-square-HhLDL8DZ.js";import{p as G}from"./pt-BR-BjrdbfiI.js";import{s as Y,e as _e}from"./subDays-DeY2bPbw.js";import{e as B}from"./endOfDay-BF15_9oV.js";import{s as Ae}from"./startOfMonth-C3wtXiK5.js";import{e as Ce}from"./endOfMonth-DKH3ioVv.js";import{P as Da}from"./plus-circle-B1LTYiUD.js";import{L as _a}from"./landmark-B_TNbamf.js";import{S as Aa}from"./search-CRif9TIz.js";import"./extends-CF3RwP-h.js";function Se(a){const n=He(a),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}const Ca=Te("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Sa=Te("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Ea=({title:a,value:n,icon:i,color:r,bgColor:g,delay:h})=>e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h},className:`${g} bg-card rounded-xl p-6 shadow-lg border border-border card-hover`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:n})]}),e.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${r} flex items-center justify-center`,children:e.jsx(i,{className:"w-6 h-6 text-white"})})]})}),Ta=({summary:a})=>{const n=[{title:"Faturamento Total (Pago)",value:`R$ ${(a.totalRevenue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:fe,color:"from-green-500 to-emerald-600",bgColor:"dark:bg-green-900/10"},{title:"Despesas Totais (Pagas)",value:`R$ ${(a.totalExpenses||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:ye,color:"from-red-500 to-pink-600",bgColor:"dark:bg-red-900/10"},{title:"Lucro Líquido (Pago)",value:`R$ ${(a.netBalance||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:Ke,color:(a.netBalance||0)>=0?"from-blue-500 to-cyan-600":"from-red-500 to-pink-600",bgColor:(a.netBalance||0)>=0?"dark:bg-blue-900/10":"dark:bg-red-900/10"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((i,r)=>e.jsx(Ea,{...i,delay:r*.1},i.title))})},Ee="w-full md:w-auto px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent",Pa=({filterType:a,setFilterType:n,filterPeriod:i,setFilterPeriod:r})=>{const g=u=>{n(u==="ALL"?"ALL":u)},h=u=>{r(u==="all-periods"?"all":u)};return e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-xl p-6 shadow-lg border border-border",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("select",{value:a,onChange:u=>g(u.target.value),className:Ee,children:[e.jsx("option",{value:"ALL",children:"Todos os tipos"}),e.jsx("option",{value:"ENTRADA",children:"Entradas"}),e.jsx("option",{value:"SAIDA",children:"Saídas"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("select",{value:i,onChange:u=>h(u.target.value),className:Ee,children:Fe.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))})]})]})})},La=({transactions:a,onEdit:n,onDelete:i,isMobile:r})=>{const[g,h]=je.useState(!1),[u,k]=je.useState(null),x=s=>{k(s),h(!0)},A=()=>{u&&i(u),h(!1),k(null)},y=()=>{h(!1),k(null)},C=s=>{if(!s)return"N/A";try{const m=L(s);return isNaN(m.getTime())?"Data inválida":r?Q(m,"dd/MM/yy",{locale:G}):Q(m,"dd/MM/yyyy",{locale:G})}catch(m){return console.error("Error formatting date:",s,m),"Data inválida"}};return e.jsxs(e.Fragment,{children:[e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card rounded-xl shadow-lg border border-border",children:[e.jsx("div",{className:"p-6 border-b border-border",children:e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Últimos Lançamentos"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-accent/50 dark:bg-accent/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Descrição"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider ${r?"hidden":"table-cell"}`,children:"Carteira"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider ${r?"hidden":"table-cell"}`,children:"Pagamento"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:r?5:7,className:"px-6 py-8 text-center text-muted-foreground",children:"Nenhum lançamento encontrado."})}):a.map(s=>e.jsxs("tr",{className:`
                      ${s.tipo==="ENTRADA"?"bg-green-500/5 dark:bg-green-500/10":"bg-red-500/5 dark:bg-red-500/10"}
                      hover:bg-accent/50 dark:hover:bg-accent/30
                    `,children:[e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-foreground",children:C(s.data_recebimento||s.release_date||s.data_vencimento||s.created_at)}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-foreground truncate max-w-[100px] sm:max-w-xs",title:s.descricao,children:s.descricao}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-muted-foreground ${r?"hidden":"table-cell"}`,children:s.wallet?e.jsxs("div",{className:"flex items-center",children:[s.wallet.icon_url&&e.jsx("img",{src:s.wallet.icon_url,alt:s.wallet.name,className:"w-4 h-4 mr-2 object-contain"}),e.jsx("span",{className:"truncate",children:s.wallet.name})]}):"N/A"}),e.jsxs("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsxs("span",{className:s.tipo==="ENTRADA"?"text-customGreen":"text-red-500",children:[s.tipo==="SAIDA"?"- R$ ":"+ R$ ",Number(s.valor).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.original_value&&e.jsx(ba,{children:e.jsxs(ja,{children:[e.jsx(wa,{asChild:!0,children:e.jsxs("span",{className:"ml-1 text-xs text-muted-foreground cursor-help",children:["(de ",Number(s.original_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),")"]})}),e.jsx(Na,{children:e.jsxs("p",{children:["Taxa de R$ ",Number(s.fee_value).toLocaleString("pt-BR",{minimumFractionDigits:2})," descontada"]})})]})})]}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${s.status==="PAGO"?"bg-green-100 text-green-800 dark:bg-green-700 dark:text-green-100":s.status==="PENDENTE"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-700 dark:text-yellow-100":s.status==="AGUARDANDO_LIBERACAO"?"bg-blue-100 text-blue-800 dark:bg-blue-700 dark:text-blue-100":s.status==="CANCELADO"?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200":"bg-red-100 text-red-800 dark:bg-red-700 dark:text-red-100"}`,children:[s.status==="AGUARDANDO_LIBERACAO"&&e.jsx(va,{className:"w-3 h-3 mr-1"}),s.status.replace(/_/g," ")]})}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-muted-foreground ${r?"hidden":"table-cell"}`,children:s.metodo_pagamento||"N/A"}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs(Xe,{children:[e.jsx(ea,{asChild:!0,children:e.jsx(P,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(ka,{className:"h-4 w-4"})})}),e.jsxs(aa,{align:"end",children:[e.jsxs(we,{onClick:()=>n(s),children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"})," Editar"]}),e.jsxs(we,{onClick:()=>x(s.id),className:"text-red-600 dark:text-red-400 hover:!text-red-600 dark:hover:!text-red-400",children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"})," Excluir"]})]})]})})]},s.id))})]})})]}),e.jsx(Re,{open:g,onOpenChange:h,children:e.jsxs(Oe,{children:[e.jsxs(Be,{children:[e.jsx(Me,{children:"Confirmar Exclusão"}),e.jsx(Ie,{children:"Tem certeza que deseja excluir este lançamento? Esta ação não pode ser desfeita."})]}),e.jsxs(Ge,{children:[e.jsx(ze,{onClick:y,children:"Cancelar"}),e.jsx(qe,{onClick:A,className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})})]})},Ra=({data:a})=>e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl p-6 shadow-lg border border-border",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Resumo de Meses Anteriores (Últimos 3 meses)"})}),e.jsx("div",{className:"space-y-4",children:a.length>0?a.map((n,i)=>{const r=n.revenue+n.expenses,g=r>0?n.revenue/r*100:0,h=r>0?n.expenses/r*100:0;return e.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.1},className:"p-4 bg-background/50 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-semibold text-foreground",children:n.monthYear}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.transactions," transações"]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-green-600 dark:text-green-400",children:[e.jsx(fe,{size:16,className:"mr-1"}),"Receitas: R$ ",Number(n.revenue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"flex items-center text-sm text-red-600 dark:text-red-400",children:[e.jsx(ye,{size:16,className:"mr-1"}),"Despesas: R$ ",Number(n.expenses).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),r>0&&e.jsxs("div",{className:"w-full bg-muted rounded-full h-2.5",children:[e.jsx("div",{className:"bg-green-500 h-2.5 rounded-l-full",style:{width:`${g}%`,display:"inline-block"},title:`Receitas: ${g.toFixed(1)}%`}),e.jsx("div",{className:"bg-red-500 h-2.5 rounded-r-full",style:{width:`${h}%`,display:"inline-block",marginLeft:g>0&&h>0?"-1px":"0"},title:`Despesas: ${h.toFixed(1)}%`})]})]},n.monthYear)}):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhum dado para os últimos 3 meses."})})]}),Oa=a=>{const{financialData:n,deleteTransaction:i,workflowCards:r,getClientById:g,wallets:h}=Z(),{toast:u}=ge(),[k,x]=p.useState(!1),[A,y]=p.useState("entrada"),[C,s]=p.useState(null),[m,z]=p.useState(""),[_,S]=p.useState(()=>a&&a.isDashboardClick?a.type==="saida"&&a.status==="pendente"&&a.period==="future"?"SAIDA":a.type==="entrada"&&a.status==="pendente"?"ALL":a.type==="entrada"&&a.status==="pago"?"ENTRADA":a.type==="saida"&&a.status==="pago"?"SAIDA":a.type?.toUpperCase()||"ALL":"ALL"),[D,E]=p.useState(()=>a&&a.isDashboardClick?a.type==="saida"&&a.status==="pendente"&&a.period==="future"?"all":a.period||"all":"all"),[v,N]=p.useState(()=>a&&a.isDashboardClick?a.type==="entrada"&&a.status==="pendente":!1);p.useEffect(()=>{a&&a.isDashboardClick?a.type==="saida"&&a.status==="pendente"&&a.period==="future"?(S("SAIDA"),E("all"),N(!1)):a.type==="entrada"&&a.status==="pendente"?(N(!0),S("ALL"),E("all")):a.type==="entrada"&&a.status==="pago"?(N(!1),S("ENTRADA"),E("all")):a.type==="saida"&&a.status==="pago"?(N(!1),S("SAIDA"),E("all")):(S(a.type?.toUpperCase()||"ALL"),E(a.period||"all"),N(!1)):(!a||Object.keys(a).length===0)&&(N(!1),S("ALL"),E("all"))},[a]);const W=p.useMemo(()=>{let c=n.transactions;D!=="all"&&(c=n.transactions.filter(w=>{const b=w.status==="PAGO"&&w.data_recebimento?w.data_recebimento:w.data_vencimento||w.created_at;if(!b)return!1;const d=L(b),f=new Date;switch(D){case"today":const J=O(f),F=B(f);return d>=J&&d<=F;case"week":const X=ve(f,{locale:G}),ee=_e(f,{locale:G});return d>=X&&d<=ee;case"month":const ae=Ae(f),se=Ce(f);return d>=ae&&d<=se;case"last_7_days":const te=O(Y(f,6)),re=B(f);return d>=te&&d<=re;case"last_30_days":const ne=O(Y(f,29)),oe=B(f);return d>=ne&&d<=oe;case"last_90_days":const le=O(Y(f,89)),ce=B(f);return d>=le&&d<=ce;case"last_year":const de=O(Y(f,364)),ie=B(f);return d>=de&&d<=ie;case"current_year":const me=Ne(f),Qe=Se(f);return d>=me&&d<=Qe;default:return!0}}));const t=c.filter(w=>w.tipo==="ENTRADA"&&w.status==="PAGO").reduce((w,b)=>w+Number(b.valor),0),l=c.filter(w=>w.tipo==="SAIDA"&&w.status==="PAGO").reduce((w,b)=>w+Number(b.valor),0),j=t-l;return{totalRevenue:t,totalExpenses:l,netBalance:j}},[n.transactions,D]),I=p.useMemo(()=>{let c=n.transactions.map(t=>({...t,wallet:h.find(l=>l.id===t.wallet_id)}));if(m){const t=m.toLowerCase();c=c.filter(l=>l.descricao.toLowerCase().includes(t)||l.valor.toString().includes(t))}return c.filter(t=>{let l=_==="ALL"||t.tipo===_;a?.isDashboardClick&&(a.type==="saida"&&a.status==="pendente"&&a.period==="future"&&_==="SAIDA"?l=l&&t.status==="PENDENTE":(a.type==="entrada"&&a.status==="pago"&&_==="ENTRADA"||a.type==="saida"&&a.status==="pago"&&_==="SAIDA")&&(l=l&&t.status==="PAGO"));let j=!0;if(D!=="all"){const w=t.status==="PAGO"&&t.data_recebimento?t.data_recebimento:t.data_vencimento||t.created_at;if(!w)return!1;const b=L(w),d=new Date;switch(D){case"today":const f=O(d),J=B(d);j=b>=f&&b<=J;break;case"week":const F=ve(d,{locale:G}),X=_e(d,{locale:G});j=b>=F&&b<=X;break;case"month":const ee=Ae(d),ae=Ce(d);j=b>=ee&&b<=ae;break;case"last_7_days":const se=O(Y(d,6)),te=B(d);j=b>=se&&b<=te;break;case"last_30_days":const re=O(Y(d,29)),ne=B(d);j=b>=re&&b<=ne;break;case"last_90_days":const oe=O(Y(d,89)),le=B(d);j=b>=oe&&b<=le;break;case"last_year":const ce=O(Y(d,364)),de=B(d);j=b>=ce&&b<=de;break;case"current_year":const ie=Ne(d),me=Se(d);j=b>=ie&&b<=me;break}}return l&&j}).sort((t,l)=>L(l.created_at).getTime()-L(t.created_at).getTime())},[n.transactions,_,D,a,m,h]),R=p.useMemo(()=>{const c=new Date;switch(!0){case _==="SAIDA":return I.filter(t=>t.tipo==="SAIDA"&&t.status==="PENDENTE"&&(!t.data_vencimento||L(t.data_vencimento)>=c));case(a?.isDashboardClick&&a.type==="saida"&&a.status==="pendente"):return I.filter(t=>t.tipo==="SAIDA"&&t.status==="PENDENTE");default:return I}},[I,_,a]),o=p.useMemo(()=>{const c=new Date;return n.transactions.filter(t=>t.status==="PENDENTE"&&t.data_vencimento&&L(t.data_vencimento)<c).map(t=>({...t,wallet:h.find(l=>l.id===t.wallet_id)}))},[n.transactions,h]),T=p.useMemo(()=>{const c=new Date,t={};return n.transactions.filter(l=>l.tipo==="ENTRADA"&&l.status==="PENDENTE"&&l.cliente_id&&l.data_vencimento&&L(l.data_vencimento)<c).forEach(l=>{t[l.cliente_id]||(t[l.cliente_id]=[]),t[l.cliente_id].push({...l,wallet:h.find(j=>j.id===l.wallet_id)})}),Object.values(t).flat()},[n.transactions,h]),$=c=>{y(c),s(null),x(!0)},We=c=>{y(c.tipo),s(c),x(!0)},$e=async c=>{try{await i(c),u({title:"Lançamento Removido",description:"O lançamento financeiro foi removido com sucesso."})}catch(t){u({title:"Erro ao remover",description:t.message,variant:"destructive"})}},Je=()=>{x(!1),s(null)},be=c=>["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"].indexOf(c.toLowerCase()),Ue=p.useMemo(()=>{const c={};return n.transactions.forEach(t=>{const l=L(t.data_recebimento||t.created_at),j=Q(l,"MMMM/yyyy",{locale:G});c[j]||(c[j]={revenue:0,expenses:0,transactions:0}),t.tipo==="ENTRADA"&&t.status==="PAGO"&&(c[j].revenue+=Number(t.valor)),t.tipo==="SAIDA"&&t.status==="PAGO"&&(c[j].expenses+=Number(t.valor)),c[j].transactions++}),Object.entries(c).map(([t,l])=>({monthYear:t,...l})).sort((t,l)=>{const[j,w]=t.monthYear.split("/"),[b,d]=l.monthYear.split("/");return new Date(d,be(b))-new Date(w,be(j))}).slice(0,3)},[n.transactions]),Ve=p.useMemo(()=>r.map(c=>{const t=n.transactions.filter(f=>f.trabalho_id===c.id&&f.tipo==="ENTRADA"),l=t.filter(f=>f.status==="PAGO").reduce((f,J)=>f+Number(J.valor),0);let j=t.filter(f=>f.status==="PENDENTE").reduce((f,J)=>f+Number(J.valor),0),w=Number(c.value)||0,b=0;w>l&&(b=w-l);const d=j>0?j:b;return{...c,pending_amount:d,client:c.client_id?g(c.client_id):null}}).filter(c=>c.pending_amount>0&&c.status!=="concluido"&&!c.archived),[r,n.transactions,g]);return{financialSummary:W,filteredTransactions:I,getFilteredTransactionsByListType:R,overdueTransactions:o,defaultDebtorTransactions:T,isModalOpen:k,transactionType:A,editingTransaction:C,filterType:_,setFilterType:S,filterPeriod:D,setFilterPeriod:E,handleAddTransaction:$,handleEditTransaction:We,handleDeleteTransaction:$e,closeModal:Je,pastMonthsSummaryData:Ue,showPaymentsToReceive:v,setShowPaymentsToReceive:N,pendingToReceiveWorkflowCards:Ve,searchTerm:m,setSearchTerm:z}},Ba=({cards:a})=>{const{getClientById:n,getServicePackageById:i}=Z();return!a||a.length===0?e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 bg-card rounded-xl shadow-lg border border-border text-center",children:[e.jsx(Le,{size:48,className:"mx-auto text-primary mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Nenhum Pagamento a Receber"}),e.jsx("p",{className:"text-muted-foreground",children:"Não há trabalhos ou transações com valores pendentes no momento."})]}):e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-xl shadow-lg border border-border",children:[e.jsxs("div",{className:"p-6 border-b border-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pagamentos a Receber"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Trabalhos e transações com valores pendentes de clientes."})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-accent/50 dark:bg-accent/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Trabalho / Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Data Evento/Vencimento"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Pacote/Descrição"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Valor Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Valor Pendente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status Contrato/Lanç."})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:a.map(r=>{const g=!!r.title,h=r.client_id?n(r.client_id):null,u=g&&r.service_package_id?i(r.service_package_id):null,k=g?r.title:r.descricao,x=g?r.date?Q(L(r.date),"dd/MM/yyyy",{locale:G}):"N/A":r.data_vencimento?Q(L(r.data_vencimento),"dd/MM/yyyy",{locale:G}):"N/A",A=g?u?u.name:"N/A":r.descricao,y=g?r.value||0:r.valor||0,C=g?r.pending_amount||0:r.valor||0,s=g?r.contract_status==="signed"?"Assinado":r.contract_status==="sent"?"Enviado":"Pendente":r.status,m=g?r.contract_status==="signed"?"bg-green-100 text-green-800 dark:bg-green-700 dark:text-green-100":r.contract_status==="sent"?"bg-blue-100 text-blue-800 dark:bg-blue-700 dark:text-blue-100":"bg-yellow-100 text-yellow-800 dark:bg-yellow-700 dark:text-yellow-100":r.status==="PENDENTE"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-700 dark:text-yellow-100":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-100";return e.jsxs("tr",{className:"hover:bg-accent/50 dark:hover:bg-accent/30",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-foreground",children:k}),h&&e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center",children:[e.jsx(sa,{size:12,className:"mr-1"}),h.name]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:x}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:A}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:["R$ ",Number(y).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-orange-600 dark:text-orange-400",children:["R$ ",Number(C).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold rounded-full capitalize ${m}`,children:s})})]},r.id)})})]})})]})},H={bank:[{name:"Nubank",url:"https://logodownload.org/wp-content/uploads/2019/08/nubank-logo-2.png"},{name:"Banco do Brasil",url:"https://logodownload.org/wp-content/uploads/2014/05/banco-do-brasil-logo-4.png"},{name:"Bradesco",url:"https://play-lh.googleusercontent.com/ZgYYL4k5QFHo1lCRUBFzdW5npSfx1EGUqvsB-NzsItCS1WGINGAPM0QK9Cca1q9xsOLh=w240-h480-rw"},{name:"Itaú",url:"https://logodownload.org/wp-content/uploads/2014/05/itau-logo-8.png"},{name:"Caixa Econômica",url:"https://www.caixa.gov.br/PublishingImages/Paginas/LT_T011/app_Caixa.png"},{name:"Santander",url:"https://play-lh.googleusercontent.com/CKzlxUzgAR6WJ8_n7ygNVLPyP0jSAayGODXZfFBqPKyEq1d1xqRlWZbXZGO3R3EoKA"},{name:"Inter",url:"https://play-lh.googleusercontent.com/iFojei8bHdTOOC7E0ZxjbHODfXKIdpQ7x_rJ6DyYq6K3hQnI8nkd_1Q7HhLdL5JLVoE=w240-h480-rw"},{name:"C6 Bank",url:"https://play-lh.googleusercontent.com/4UNXhR4zNyFMmGglVN4FzQA6nD5lbLN5jH5-yGtYXw4qcWr5VjY6gGD1h5v8hRtNUQg=w240-h480-rw"},{name:"Neon",url:"https://play-lh.googleusercontent.com/rEeZvGC7Qq8KkP5KGsEJPg6rKvYGk4MbvjQzZt6XU-WrP8_jFkGnTrMVkE8mN0dPWlU=w240-h480-rw"},{name:"Original",url:"https://play-lh.googleusercontent.com/M2qOJ1c0V8mDgWaGzq7vJ0GDHqFD1qRwqVX2PnP2NlU8aWs5vYGkQ1n0qVrEz7OqO4k=w240-h480-rw"},{name:"Sicoob",url:"https://play-lh.googleusercontent.com/8qJdXhEUn0l-QrG2K4xUk9hE8fJdWF7mGnL_HvPJn2BqLxD6YqeJOPr8a2F0Xzj7Kw8=w240-h480-rw"},{name:"Sicredi",url:"https://play-lh.googleusercontent.com/oVv-2bZG5k8vJ1K7Ws9ZPvF8nD8FzRzNjW1eQ6Yh5fWkH7OvCvL2J7uR6Dz5bPyOJ2A=w240-h480-rw"},{name:"Next",url:"https://play-lh.googleusercontent.com/gNrDzKdIhT2M0aGzRqzPF8hQ6OgZ8bYzVzP1gJvN6sQ8eL5uHkV7pZyF2DvK4qBgE_Q=w240-h480-rw"},{name:"Digio",url:"https://play-lh.googleusercontent.com/wF8P5lJhO6nG1hRvKsC8D9Z2qJpF5kUyX7eNkQvH4wL6bYoF0z8dJ2mF4vKlQxP1hBc=w240-h480-rw"},{name:"PagBank",url:"https://play-lh.googleusercontent.com/8OhF2N1gKjDvL5yR9C6qZnUeF7wWpM2sJdBkYlQ5oG4xvHzP8K0fA6dE3tN7uI5LwVs=w240-h480-rw"},{name:"Will Bank",url:"https://play-lh.googleusercontent.com/5E8yTcR1qFpL7wNzK4bF6oU2mD3hE1sJvB0gY9Qz2wK8xN6fL4oG3dE7tN9uI2LwPs=w240-h480-rw"},{name:"BS2",url:"https://play-lh.googleusercontent.com/jL8sF4uR2cK5wB1mE6gY3oQ7hD9zF0xN4vP2lH8eT6wK1mF5oG7dE3tN8uI4LwBs=w240-h480-rw"},{name:"Banco Personalizado",url:"https://cdn-icons-png.flaticon.com/512/4825/4825112.png"}],gateway:[{name:"PicPay",url:"https://play-lh.googleusercontent.com/pTvc9kCumx_24eJDwGUpvcBwljcIBkrsL3qHwhBW2NalMQ-XxTtHRV9YAJanBxkV0Rw"},{name:"Mercado Pago",url:"https://play-lh.googleusercontent.com/6a7KGB_J06Lwct1F2kuwK_GbNm4E8Vkl0MJqzjcddpGjCIsTMOg2nJ3WW-dGCr883FI=w240-h480-rw"},{name:"PagSeguro",url:"https://assets.pagseguro.com.br/registration-fe/5.10.1/_next/static/media/pag-bank-banner.3e81dc45.png"},{name:"SumUp",url:"https://play-lh.googleusercontent.com/QmvpebjqnqTtUuTSDEt8zBmLf87-FpVU1uvuMP2zazqyYoEHZlZUB7QZ4j_klH3igQ"},{name:"Stone",url:"https://images.seeklogo.com/logo-png/36/1/stone-pagamentos-logo-png_seeklogo-364485.png"},{name:"PayPal",url:"https://play-lh.googleusercontent.com/iQ8f5plIFy9rrY46Q2TNRwq_8nCvh9LZVwytqMBpOEcfnIU3vTkICQ6L1-RInWS93oQg"},{name:"Stripe",url:"https://play-lh.googleusercontent.com/2PS6w7uBztfuMys5fgodNkTwTOE6bLVB2cJYbu5GHlARAK36FzO5bUfMDP9cEJk__cE"},{name:"Asaas",url:"https://play-lh.googleusercontent.com/Rze4nR-Mol9j-dj4LDaPH4lWZG_PENIljWnH_hu78uYpMd9AFenlr84sGlYQTT2xBA"},{name:"Gerencianet",url:"https://play-lh.googleusercontent.com/2M3YecvH6Nv-yWp43Ekal7RyJPXuwinvC8pUln_ophYqWimQEeviw-yOR7DbLOf2U6I"},{name:"Pagar.me",url:"https://play-lh.googleusercontent.com/_zZlN3sJsEXGEicuECbyCcEuaV9gf2ZJtqz0r5UtBd59-G93hNNiKZEgBwqiBFgflH6T=w240-h480-rw"},{name:"Cielo",url:"https://play-lh.googleusercontent.com/BukKjSZwbGxLLSOkuzNztYXGV2KpEecAWO7TvFdC8-cVGWv_kzJ4I_J5lKwexQlEky4"},{name:"Rede",url:"https://cdn6.aptoide.com/imgs/7/1/8/7184445ac1374f5a1e87a50d56c2b6db_icon.png"},{name:"GetNet",url:"https://play-lh.googleusercontent.com/4tGSaBYJh7I_11w3T8laid5Y62e7jgJIyOeDiJkRPH9s6HJi6XRk_Rqz4vsu1gq_Qg"}],cash:[{name:"Dinheiro",url:"https://cdn-icons-png.flaticon.com/512/5451/5451648.png"}]},K={"Mercado Pago":[{name:"Recebimento na hora",fee:4.99,release_days:0},{name:"Recebimento em 14 dias",fee:3.79,release_days:14},{name:"Recebimento em 30 dias",fee:3.03,release_days:30}],PagSeguro:[{name:"Recebimento na hora",fee:4.99,release_days:0},{name:"Recebimento em 14 dias",fee:3.89,release_days:14},{name:"Recebimento em 30 dias",fee:3.19,release_days:30}],PicPay:[{name:"Padrão",fee:3.99,release_days:30}],PayPal:[{name:"Padrão",fee:4.79,release_days:1}],SumUp:[{name:"Recebimento em 1 dia útil",fee:4.6,release_days:1},{name:"Recebimento em 30 dias",fee:3.6,release_days:30}],Stone:[{name:"Recebimento imediato",fee:5.49,release_days:0},{name:"Recebimento em 30 dias",fee:3.89,release_days:30}],Stripe:[{name:"Padrão",fee:4.9,release_days:7}],Asaas:[{name:"Recebimento parcelado",fee:4,release_days:30}],Gerencianet:[{name:"Padrão",fee:3.89,release_days:2}],"Pagar.me":[{name:"Padrão",fee:3.79,release_days:30}],Cielo:[{name:"Padrão",fee:3.29,release_days:30}],Rede:[{name:"Padrão",fee:3.09,release_days:30}],GetNet:[{name:"Padrão",fee:3.19,release_days:30}]},Ma=({isOpen:a,onClose:n,walletData:i})=>{const{addWallet:r,updateWallet:g}=Z(),{toast:h}=ge(),[u,k]=p.useState(""),[x,A]=p.useState("bank"),[y,C]=p.useState(""),[s,m]=p.useState(""),[z,_]=p.useState(!1),[S,D]=p.useState({fee:"",release_days:""}),[E,v]=p.useState(!1),[N,W]=p.useState("custom");p.useEffect(()=>{i?(k(i.name),A(i.type),C(i.icon_url),m(i.initial_balance||""),_(i.is_gateway||!1),D(i.gateway_config||{fee:"",release_days:""})):(k(""),A("bank"),C(H.bank[0]?.url||""),m(""),_(!1),D({fee:"",release_days:""})),W("custom")},[i,a]),p.useEffect(()=>{if(a&&!i){const o=H[x]?.[0]?.url||"";C(o)}},[x,a,i]),p.useEffect(()=>{if(N&&N!=="custom"){const[o,T]=N.split("_"),$=K[o]?.[T];$&&D({fee:$.fee,release_days:$.release_days})}},[N]);const I=async o=>{o.preventDefault(),v(!0);const T={name:u,type:x,icon_url:y,initial_balance:parseFloat(s)||0,is_gateway:z,gateway_config:z?{fee:parseFloat(S.fee)||0,release_days:parseInt(S.release_days,10)||0}:null};try{i?(await g(i.id,T),h({title:"Carteira atualizada!",description:"As informações da carteira foram salvas."})):(await r(T),h({title:"Carteira criada!",description:"Sua nova carteira está pronta para uso."})),n()}catch($){h({title:"Erro ao salvar",description:$.message,variant:"destructive"})}finally{v(!1)}},R=K[Object.keys(K).find(o=>u.toLowerCase().includes(o.toLowerCase()))]||[];return e.jsx(ta,{open:a,onOpenChange:n,children:e.jsxs(ra,{className:"max-h-[90vh] overflow-y-auto",children:[e.jsxs(na,{children:[e.jsx(oa,{children:i?"Editar Carteira":"Nova Carteira"}),e.jsx(la,{children:i?"Atualize as informações da sua carteira.":"Crie uma nova carteira para organizar suas finanças."})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"wallet-name",children:"Nome da Carteira"}),e.jsx(V,{id:"wallet-name",value:u,onChange:o=>k(o.target.value),placeholder:"Ex: Conta Principal",required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"wallet-type",children:"Tipo"}),e.jsxs(ue,{value:x,onValueChange:A,children:[e.jsx(xe,{children:e.jsx(pe,{placeholder:"Selecione o tipo"})}),e.jsxs(he,{children:[e.jsx(U,{value:"bank",children:"Banco"}),e.jsx(U,{value:"gateway",children:"Gateway de Pagamento"}),e.jsx(U,{value:"cash",children:"Dinheiro (Caixa Físico)"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"wallet-icon",children:"Ícone"}),e.jsxs(ue,{value:y,onValueChange:C,children:[e.jsx(xe,{children:e.jsx(pe,{children:y?e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:y,alt:"ícone selecionado",className:"w-5 h-5 mr-2 object-contain"}),e.jsx("span",{children:H[x]?.find(o=>o.url===y)?.name||"Ícone"})]}):"Selecione um ícone"})}),e.jsx(he,{children:H[x]?.map(o=>e.jsx(U,{value:o.url,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:o.url,alt:o.name,className:"w-5 h-5 mr-2 object-contain"}),e.jsx("span",{children:o.name})]})},o.name))})]})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"initial-balance",children:"Saldo Inicial (Opcional)"}),e.jsx(V,{id:"initial-balance",type:"number",step:"0.01",value:s,onChange:o=>m(o.target.value),placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(ca,{id:"is-gateway",checked:z,onCheckedChange:_}),e.jsx(q,{htmlFor:"is-gateway",className:"font-medium",children:"É um Gateway de Pagamento?"})]}),z&&e.jsxs("div",{className:"p-4 border rounded-lg space-y-4 bg-accent/50",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Configuração do Gateway"}),R.length>0&&e.jsxs("div",{children:[e.jsxs(q,{htmlFor:"gateway-suggestion",children:["Sugestões para ",Object.keys(K).find(o=>u.toLowerCase().includes(o.toLowerCase()))]}),e.jsxs(ue,{value:N,onValueChange:W,children:[e.jsx(xe,{children:e.jsx(pe,{placeholder:"Usar sugestão..."})}),e.jsxs(he,{children:[e.jsx(U,{value:"custom",children:"Personalizado"}),R.map((o,T)=>e.jsxs(U,{value:`${u}_${T}`,children:[o.name," (",o.fee,"% em ",o.release_days,"d)"]},`${u}_${T}`))]})]})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"gateway-fee",children:"Taxa (%)"}),e.jsx(V,{id:"gateway-fee",type:"number",step:"0.01",value:S.fee,onChange:o=>D(T=>({...T,fee:o.target.value})),placeholder:"Ex: 4.99",required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"gateway-release",children:"Prazo de Liberação (dias)"}),e.jsx(V,{id:"gateway-release",type:"number",step:"1",value:S.release_days,onChange:o=>D(T=>({...T,release_days:o.target.value})),placeholder:"Ex: 14",required:!0})]}),e.jsxs("div",{className:"text-xs text-muted-foreground flex items-start",children:[e.jsx(Le,{className:"w-4 h-4 mr-2 mt-0.5 shrink-0"}),e.jsx("span",{children:"Ao usar esta carteira em um lançamento, a taxa será descontada e o valor líquido agendado para a data de liberação."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[e.jsx(P,{type:"button",variant:"ghost",onClick:n,disabled:E,children:"Cancelar"}),e.jsx(P,{type:"submit",disabled:E,children:E?"Salvando...":"Salvar"})]})]})]})})},Ia=()=>{const{wallets:a,getWalletBalance:n,deleteWallet:i}=Z(),[r,g]=p.useState(!1),[h,u]=p.useState(null),[k,x]=p.useState(null),{toast:A}=ge(),y=()=>{u(null),g(!0)},C=m=>{u(m),g(!0)},s=async()=>{if(k)try{await i(k.id),A({title:"Carteira removida!",description:`A carteira "${k.name}" foi removida com sucesso.`})}catch(m){A({title:"Erro ao remover",description:m.message,variant:"destructive"})}finally{x(null)}};return e.jsxs(e.Fragment,{children:[e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-xl p-6 shadow-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Minhas Carteiras"}),e.jsxs(P,{onClick:y,children:[e.jsx(Da,{className:"w-4 h-4 mr-2"}),"Nova Carteira"]})]}),a.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(da,{className:"w-12 h-12 mx-auto mb-4 text-primary"}),e.jsx("p",{children:"Nenhuma carteira encontrada."}),e.jsx("p",{className:"text-sm",children:"Crie sua primeira carteira para organizar suas finanças."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(ke,{children:a.map(m=>e.jsx(M.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:260,damping:20},children:e.jsxs(ia,{className:"h-full group relative",children:[e.jsxs(ma,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsxs(ua,{className:"text-sm font-medium flex items-center",children:[m.icon_url?e.jsx("img",{src:m.icon_url,alt:m.name,className:"w-5 h-5 mr-2 object-contain"}):e.jsx(_a,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"truncate",title:m.name,children:m.name})]}),e.jsxs("div",{className:"absolute top-2 right-2 flex opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(P,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>C(m),children:e.jsx(Ye,{className:"w-4 h-4"})}),e.jsx(P,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>x(m),children:e.jsx(Pe,{className:"w-4 h-4"})})]})]}),e.jsxs(xa,{children:[e.jsx("div",{className:"text-2xl font-bold",children:pa(n(m.id))}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:m.type})]})]})},m.id))})})]}),e.jsx(ke,{children:r&&e.jsx(Ma,{isOpen:r,onClose:()=>g(!1),walletData:h})}),e.jsx(Re,{open:!!k,onOpenChange:m=>!m&&x(null),children:e.jsxs(Oe,{children:[e.jsxs(Be,{children:[e.jsx(Me,{children:"Confirmar Exclusão"}),e.jsxs(Ie,{children:['Tem certeza que deseja excluir a carteira "',k?.name,'"? Os lançamentos associados a ela não serão excluídos, mas perderão o vínculo.']})]}),e.jsxs(Ge,{children:[e.jsx(ze,{onClick:()=>x(null),children:"Cancelar"}),e.jsx(qe,{onClick:s,className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})})]})},ts=({initialFilter:a,isMobile:n})=>{const{financialSummary:i,filteredTransactions:r,getFilteredTransactionsByListType:g,overdueTransactions:h,defaultDebtorTransactions:u,filterType:k,setFilterType:x,filterPeriod:A,setFilterPeriod:y,pastMonthsSummaryData:C,setShowPaymentsToReceive:s,pendingToReceiveWorkflowCards:m,handleDeleteTransaction:z,searchTerm:_,setSearchTerm:S}=Oa(a),{openModal:D}=ha(),{isMobile:E}=ga();p.useEffect(()=>{a&&a.isDashboardClick?a.type==="saida"&&a.status==="pendente"&&a.period==="future"?(N("pagar"),x("SAIDA"),y("all"),s(!1)):a.type==="entrada"&&a.status==="pendente"?(N("receber"),s(!0),x("ALL"),y("all")):a.type==="entrada"&&a.status==="pago"?(N("geral"),s(!1),x("ENTRADA"),y("all")):a.type==="saida"&&a.status==="pago"?(N("geral"),s(!1),x("SAIDA"),y("all")):(N("geral"),x(a.type?.toUpperCase()||"ALL"),y(a.period||"all"),s(!1)):(!a||Object.keys(a).length===0)&&(N("geral"),s(!1),x("ALL"),y("all"))},[a,x,y,s]);const[v,N]=p.useState("geral"),W=o=>{s(!1),D("financial",{type:o,transaction:null})},I=o=>{s(!1),D("financial",{type:o.tipo,transaction:o})},R=o=>{N(o),o==="geral"?(s(!1),x("ALL"),y("all")):o==="pagar"?(s(!1),x("SAIDA"),y("all")):o==="receber"?(s(!0),x("ALL"),y("all")):o==="atrasadas"?(s(!1),x("ALL"),y("all")):o==="inadimplentes"&&(s(!1),x("ENTRADA"),y("all"))};return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:E?"hidden":"",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground titulo-gradiente",children:"Gestão Financeira"}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"Controle suas receitas, despesas e carteiras."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[e.jsxs(P,{onClick:()=>W("entrada"),variant:"success",className:"text-white shadow-lg w-full sm:w-auto",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Nova Entrada"}),e.jsx("span",{className:"sm:hidden",children:"Entrada"})]}),e.jsxs(P,{onClick:()=>W("saida"),className:"bg-red-500 hover:bg-red-600 text-white shadow-lg w-full sm:w-auto",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Nova Saída"}),e.jsx("span",{className:"sm:hidden",children:"Saída"})]})]})]}),e.jsx(Ta,{summary:i}),e.jsx(Ia,{}),e.jsx(Ra,{data:C}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mb-4",children:[e.jsxs(P,{variant:v==="geral"?"default":"outline",onClick:()=>R("geral"),className:`${v==="geral"?"bg-blue-600 hover:bg-blue-700 text-white":"border-border text-muted-foreground hover:bg-accent"} w-full sm:w-auto`,children:[e.jsx(Ca,{className:"w-4 h-4 mr-2"})," Lançamentos Gerais"]}),e.jsxs(P,{variant:v==="pagar"?"default":"outline",onClick:()=>R("pagar"),className:`${v==="pagar"?"bg-red-500 hover:bg-red-600 text-white":"border-border text-muted-foreground hover:bg-accent"} w-full sm:w-auto`,children:[e.jsx(ye,{className:"w-4 h-4 mr-2"})," Contas a Pagar"]}),e.jsxs(P,{variant:v==="receber"?"default":"outline",onClick:()=>R("receber"),className:`${v==="receber"?"bg-green-500 hover:bg-green-600 text-white":"border-border text-muted-foreground hover:bg-accent"} w-full sm:w-auto`,children:[e.jsx(fe,{className:"w-4 h-4 mr-2"})," Contas a Receber"]}),e.jsxs(P,{variant:v==="atrasadas"?"default":"outline",onClick:()=>R("atrasadas"),className:`${v==="atrasadas"?"bg-orange-500 hover:bg-orange-600 text-white":"border-border text-muted-foreground hover:bg-accent"} w-full sm:w-auto`,children:[e.jsx(fa,{className:"w-4 h-4 mr-2"})," Contas Atrasadas"]}),e.jsxs(P,{variant:v==="inadimplentes"?"default":"outline",onClick:()=>R("inadimplentes"),className:`${v==="inadimplentes"?"bg-red-700 hover:bg-red-800 text-white":"border-border text-muted-foreground hover:bg-accent"} w-full sm:w-auto`,children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"})," Inadimplentes"]})]}),v!=="receber"&&e.jsxs("div",{className:"bg-card rounded-xl p-4 sm:p-6 shadow-lg border border-border",children:[e.jsxs("div",{className:"flex-1 relative mb-4",children:[e.jsx(Aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(V,{type:"text",placeholder:"Buscar por descrição ou valor...",value:_,onChange:o=>S(o.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg bg-background focus:ring-primary focus:border-primary"})]}),e.jsx(Pa,{filterType:k,setFilterType:x,filterPeriod:A,setFilterPeriod:y})]}),v==="receber"?e.jsx(Ba,{cards:m}):e.jsx(La,{transactions:v==="pagar"?g:v==="atrasadas"?h:v==="inadimplentes"?u:r,onEdit:I,onDelete:z,isMobile:E})]})};export{ts as default};
