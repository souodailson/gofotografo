import{a3 as h,r,j as e,ag as u,k as a,q as f,t as p,v as j,x as N,as as b,a7 as v,J as y,C as w,A as _,s as C}from"./index-CsuWV44D.js";import{p as L}from"./pt-BR-DZ8_n-vk.js";const q=()=>{const{settings:c}=h(),[o,i]=r.useState([]),[n,d]=r.useState(!0),[t,m]=r.useState(null);r.useEffect(()=>{(async()=>{const{data:g,error:l}=await C.from("blog_posts").select("*").eq("is_published",!0).order("published_at",{ascending:!1});l?(console.error("Erro ao buscar posts:",l),m("Não foi possível carregar os posts. Tente novamente mais tarde.")):i(g),d(!1)})()},[]);const x=c?.logo||"https://rouvkvcngmsquebokdyg.supabase.co/storage/v1/object/public/gofiles//favicon%20gofotografo.png";return n?e.jsx(u,{}):e.jsxs("div",{className:"bg-background min-h-screen",children:[e.jsx("header",{className:"py-6 border-b",children:e.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[e.jsx(a,{to:"/",children:e.jsx("img",{src:x,alt:"Logo",className:"h-8"})}),e.jsx("h1",{className:"text-3xl font-bold titulo-gradiente-animado",children:"Nosso Blog"}),e.jsx(a,{to:"/login",className:"text-sm font-medium hover:text-primary",children:"Acessar Plataforma"})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-12",children:[t&&e.jsx("p",{className:"text-center text-red-500",children:t}),o.length===0&&!t&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Nenhuma publicação ainda."}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Volte em breve para conferir nosso conteúdo!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map(s=>e.jsxs(f,{className:"flex flex-col overflow-hidden group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx(a,{to:`/blog/${s.slug}`,className:"block",children:e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx("img",{src:s.cover_image_url,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})})}),e.jsx(p,{children:e.jsx(a,{to:`/blog/${s.slug}`,className:"block",children:e.jsx(j,{className:"line-clamp-2 leading-tight group-hover:text-primary transition-colors",children:s.title})})}),e.jsx(N,{className:"flex-grow",children:e.jsx("p",{className:"text-muted-foreground line-clamp-3 text-sm",children:s.seo_description})}),e.jsxs(b,{className:"flex flex-col items-start space-y-4",children:[e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(v,{className:"w-3 h-3 mr-1.5"})," ",s.author_name||"Equipe GO."]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(w,{className:"w-3 h-3 mr-1.5"})," ",s.published_at?y(new Date(s.published_at),"dd MMM, yyyy",{locale:L}):"Não publicado"]})]}),e.jsxs(a,{to:`/blog/${s.slug}`,className:"flex items-center text-sm font-semibold text-primary hover:underline",children:["Ler mais ",e.jsx(_,{className:"w-4 h-4 ml-1"})]})]})]},s.id))})]})]})};export{q as default};
