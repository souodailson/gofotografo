import{c as te,s as E,f as re,h as oe,r as h,j as e,m as G,t as l,v as b,w as y,x as q,y as d,i as F,I as z,B as ie,D as ne,at as ce,U as V,C as le,O,a as I,q as de}from"./index-B959_7_o.js";import{P as me}from"./progress-CvQypriY.js";import{T as J}from"./target-0v8Xu6Ir.js";import{C as xe}from"./calculator-BK-BNoTR.js";import{B as ue}from"./bar-chart-3-i6ZqdCjg.js";import{A as he}from"./activity-ClDi2R3z.js";import{P as pe}from"./pie-chart-CuOhjEBx.js";import{T as ge}from"./trending-up-CJXHKgjy.js";import{T as je}from"./trophy-C4AHTxGd.js";import{Z as fe}from"./zap-D3z7zAdb.js";const ve=te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Ne=async n=>{try{const r=new Date().getFullYear(),o=new Date().getMonth()+1,{data:x,error:p}=await E.from("financial_transactions").select("*").eq("user_id",n).gte("created_at",`${r}-01-01`).order("created_at",{ascending:!1});if(p)return console.error("Erro ao buscar transaÃ§Ãµes:",p),Y();const k=x?.filter(c=>new Date(c.created_at).getMonth()+1===o)||[],m=x?.filter(c=>c.type==="income"&&new Date(c.created_at).getFullYear()===r)||[],N=k.filter(c=>c.type==="income").reduce((c,t)=>c+(parseFloat(t.amount)||0),0),j=m.reduce((c,t)=>c+(parseFloat(t.amount)||0),0),{data:M,error:a}=await E.from("workflow_cards").select("*").eq("user_id",n).eq("status","concluido").gte("created_at",`${r}-${String(o).padStart(2,"0")}-01`),g=M?.length||0,{data:R,error:S}=await E.from("clients").select("*").eq("user_id",n).gte("created_at",`${r}-${String(o).padStart(2,"0")}-01`),P=R?.length||0,C=M?.filter(c=>R?.some(t=>t.id===c.client_id))?.length||0,f=new Date,u=new Date(r,o,0).getDate()-f.getDate();return{faturamentoAtual:N,faturamentoAnual:j,trabalhosFeitos:g,leadsGerados:P,clientesConvertidos:C,diasRestantes:Math.max(u,0),taxaConversao:P>0?(C/P*100).toFixed(1):0}}catch(r){return console.error("Erro ao buscar dados financeiros do usuÃ¡rio:",r),Y()}},Y=()=>({faturamentoAtual:0,faturamentoAnual:0,trabalhosFeitos:0,leadsGerados:0,clientesConvertidos:0,diasRestantes:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()-new Date().getDate(),taxaConversao:0}),be=async(n,r)=>{try{const{data:o,error:x}=await E.from("market_data").select("*").eq("region",n).eq("service_type",r).order("updated_at",{ascending:!1}).limit(1);return x?(console.error("Erro ao buscar dados de mercado:",x),_(r)):o&&o.length>0?o[0]:_(r)}catch(o){return console.error("Erro ao buscar dados de mercado:",o),_(r)}},_=n=>{const r={casamento:{averagePrice:2500,minPrice:1e3,maxPrice:8e3,totalPhotographers:150,marketGrowth:8,competitionLevel:"MÃ©dio"},ensaio:{averagePrice:800,minPrice:300,maxPrice:2500,totalPhotographers:200,marketGrowth:15,competitionLevel:"Alto"},corporativo:{averagePrice:1200,minPrice:500,maxPrice:3500,totalPhotographers:80,marketGrowth:12,competitionLevel:"Baixo"}};return r[n]||r.casamento},ye=async(n,r,o)=>{try{const{targetRevenue:x,timeframe:p,currentRevenue:k,averageTicket:m,conversionRate:N}=n,j=x-k,a=j/(p==="mes"?1:p==="trimestre"?3:12),g=[];m<o.averagePrice*.8&&g.push({category:"PrecificaÃ§Ã£o",action:`Aumentar ticket mÃ©dio de R$ ${m.toLocaleString()} para R$ ${Math.ceil(o.averagePrice*.9).toLocaleString()}`,impact:"Alto",timeframe:"2-4 semanas",description:"Seus preÃ§os estÃ£o abaixo da mÃ©dia do mercado. Um reajuste estratÃ©gico pode aumentar sua receita significativamente.",tactics:["Revisar portfÃ³lio e destacar diferenciais","Criar pacotes premium com serviÃ§os extras","Implementar precificaÃ§Ã£o por valor entregue","Oferecer opÃ§Ãµes de pagamento parcelado"]}),N<25&&g.push({category:"ConversÃ£o de Leads",action:`Melhorar taxa de conversÃ£o de ${N}% para pelo menos 30%`,impact:"Alto",timeframe:"3-6 semanas",description:"Sua taxa de conversÃ£o estÃ¡ abaixo do ideal. Melhorar o processo de vendas pode gerar mais receita com os mesmos leads.",tactics:["Criar script de atendimento padronizado","Implementar follow-up automÃ¡tico","Desenvolver propostas visuais impactantes","Reduzir tempo de resposta para menos de 2h","Treinar objeÃ§Ãµes mais comuns"]});const R=Math.ceil(a/m/(N/100));g.push({category:"GeraÃ§Ã£o de Leads",action:`Gerar ${R} leads qualificados por mÃªs`,impact:"CrÃ­tico",timeframe:"ContÃ­nuo",description:"Baseado em sua meta e taxa de conversÃ£o atual, vocÃª precisa de um fluxo consistente de leads qualificados.",tactics:["Investir 10-15% da receita em marketing digital","Criar conteÃºdo relevante nas redes sociais (3x/semana)","Implementar campanhas pagas no Instagram e Google","Desenvolver programa de indicaÃ§Ãµes com incentivos","Participar de feiras e eventos do setor"]});const S=Math.ceil(a/m);g.push({category:"Produtividade",action:`Executar ${S} trabalhos por mÃªs`,impact:"Alto",timeframe:"Imediato",description:"Para atingir sua meta, vocÃª precisa otimizar sua agenda e capacidade de entrega.",tactics:["Otimizar agenda para mÃ¡ximo de trabalhos por semana","Padronizar fluxo de ediÃ§Ã£o e entrega","Terceirizar tarefas administrativas","Implementar sistema de agendamento online","Criar templates para agilizar a ediÃ§Ã£o"]});const P=new Date().getMonth()+1,C=we(P);return C.length>0&&g.push({category:"Oportunidades Sazonais",action:"Aproveitar demanda sazonal atual",impact:"MÃ©dio",timeframe:"1-2 meses",description:"Existem oportunidades especÃ­ficas para este perÃ­odo do ano.",tactics:C}),{strategies:g,summary:{totalGap:j,monthlyGoal:a,requiredLeads:R,requiredJobs:S,recommendedPriceIncrease:Math.max(0,o.averagePrice*.9-m)}}}catch(x){return console.error("Erro ao gerar plano estratÃ©gico:",x),{strategies:[],summary:{totalGap:0,monthlyGoal:0,requiredLeads:0,requiredJobs:0,recommendedPriceIncrease:0}}}},we=n=>({1:["Campanhas de ano novo","Ensaios de verÃ£o","Planejamento anual"],2:["Carnaval","Dia dos Namorados (preparaÃ§Ã£o)","Ensaios de verÃ£o"],3:["Outono (ensaios)","Casamentos de outono","Dia das Mulheres"],4:["PÃ¡scoa","Ensaios de famÃ­lia","Campanhas de chocolate"],5:["Dia das MÃ£es","Casamentos de outono/inverno","Ensaios indoor"],6:["Festa Junina","Dia dos Namorados","Ensaios temÃ¡ticos"],7:["FÃ©rias escolares","Ensaios de famÃ­lia","Viagens (destinos)"],8:["Dia dos Pais","Ensaios de inverno","Campanhas corporativas"],9:["Primavera","Dia da CrianÃ§a (preparaÃ§Ã£o)","Ensaios externos"],10:["Dia da CrianÃ§a","Halloween","Ensaios de primavera"],11:["Black Friday","Casamentos de primavera","Natal (preparaÃ§Ã£o)"],12:["Natal","RÃ©veillon","ConfraternizaÃ§Ãµes","FormaÃ§Ãµes"]})[n]||[],Le=()=>{const{toast:n}=re(),{user:r}=oe(),[o,x]=h.useState(""),[p,k]=h.useState("mes"),[m,N]=h.useState(""),[j,M]=h.useState("20"),[a,g]=h.useState(null),[R,S]=h.useState(0),[P,C]=h.useState(0),[f,$]=h.useState(!0),[u,c]=h.useState(null),[t,H]=h.useState({faturamentoAtual:0,faturamentoAnual:0,trabalhosFeitos:0,leadsGerados:0,clientesConvertidos:0,diasRestantes:0,taxaConversao:0});h.useEffect(()=>{(async()=>{if(r){$(!0);try{const i=await Ne(r.id);if(H(i),i.trabalhosFeitos>0&&i.faturamentoAtual>0){const w=Math.round(i.faturamentoAtual/i.trabalhosFeitos);N(w.toString())}i.taxaConversao>0&&M(i.taxaConversao.toString())}catch(i){console.error("Erro ao carregar dados do usuÃ¡rio:",i),n({title:"Aviso",description:"Usando dados estimados. Conecte seu sistema financeiro para dados precisos."})}finally{$(!1)}}})()},[r,n]);const Z=async()=>{if(!o||!m){n({title:"Campos obrigatÃ³rios",description:"Preencha o valor da meta e ticket mÃ©dio.",variant:"destructive"});return}const s=parseFloat(o),i=parseFloat(m),w=parseFloat(j)/100,D=Math.ceil(s/i),L=Math.ceil(D/w),K=Math.ceil(L/v()),Q=Math.ceil(D/(v()/7)),W=t.faturamentoAtual/s*100,X=D-t.trabalhosFeitos,ee=L-t.leadsGerados,ae={valorMeta:s,trabalhosNecessarios:D,leadsNecessarios:L,leadsPorDia:K,trabalhosPorSemana:Q,progressoPercentual:Math.min(W,100),trabalhosRestantes:Math.max(X,0),leadsRestantes:Math.max(ee,0),valorRestante:Math.max(s-t.faturamentoAtual,0),ritmoAtual:t.faturamentoAtual/(v()-t.diasRestantes),ritmoNecessario:Math.max(s-t.faturamentoAtual,0)/t.diasRestantes};g(ae);try{const T=await be("sao-paulo","casamento"),se=await ye({targetRevenue:s,timeframe:p,currentRevenue:t.faturamentoAtual,averageTicket:i,conversionRate:parseFloat(j)},t,T);c(se)}catch(T){console.error("Erro ao gerar plano estratÃ©gico:",T)}n({title:"Meta calculada!",description:"Veja seu plano de aÃ§Ã£o estratÃ©gico baseado em dados reais."})},v=()=>{switch(p){case"semana":return 7;case"mes":return 30;case"trimestre":return 90;case"semestre":return 180;case"ano":return 365;default:return 30}},U=()=>{switch(p){case"semana":return"esta semana";case"mes":return"este mÃªs";case"trimestre":return"este trimestre";case"semestre":return"este semestre";case"ano":return"este ano";default:return"este perÃ­odo"}},A=(()=>{if(!a)return null;const{progressoPercentual:s,ritmoAtual:i,ritmoNecessario:w}=a;return s>=100?{status:"concluida",color:"text-green-600",icon:je,message:"Meta atingida! ðŸŽ‰"}:i>=w?{status:"no-ritmo",color:"text-blue-600",icon:I,message:"No ritmo certo!"}:s>=70?{status:"atencao",color:"text-yellow-600",icon:de,message:"AtenÃ§Ã£o: acelere o ritmo"}:{status:"critico",color:"text-red-600",icon:fe,message:"AÃ§Ã£o urgente necessÃ¡ria!"}})(),B=a?[{condicao:a.leadsRestantes>0,acao:`Gerar mais ${a.leadsRestantes} leads`,dica:"Intensifique marketing digital e indicaÃ§Ãµes"},{condicao:a.trabalhosRestantes>0,acao:`Fechar mais ${a.trabalhosRestantes} trabalhos`,dica:"Foque no follow-up e melhore proposta comercial"},{condicao:a.ritmoAtual<a.ritmoNecessario,acao:"Acelerar ritmo de vendas",dica:"Considere promoÃ§Ãµes ou parcerias estratÃ©gicas"},{condicao:a.progressoPercentual<50&&t.diasRestantes<15,acao:"Revisar meta ou estratÃ©gia",dica:"Meta pode estar muito ambiciosa para o tempo restante"}].filter(s=>s.condicao):[];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20",children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs(G.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-amber-600 bg-clip-text text-transparent flex items-center justify-center gap-3",children:[e.jsx(J,{className:"w-8 h-8 text-yellow-600"}),"METAS - Simulador de Ganhos & Metas Visuais"]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Defina metas, calcule planos de aÃ§Ã£o e acompanhe seu progresso"})]}),e.jsxs(l,{children:[e.jsxs(b,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5"}),"Configure sua Meta"]}),e.jsx(q,{children:"Defina quanto quer faturar e em qual perÃ­odo"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx(F,{htmlFor:"metaValor",children:"Valor da Meta (R$) *"}),e.jsx(z,{id:"metaValor",type:"number",value:o,onChange:s=>x(s.target.value),placeholder:"Ex: 15000"})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"periodo",children:"PerÃ­odo"}),e.jsxs("select",{id:"periodo",className:"w-full p-2 border rounded-lg bg-background",value:p,onChange:s=>k(s.target.value),children:[e.jsx("option",{value:"semana",children:"Semana"}),e.jsx("option",{value:"mes",children:"MÃªs"}),e.jsx("option",{value:"trimestre",children:"Trimestre"}),e.jsx("option",{value:"semestre",children:"Semestre"}),e.jsx("option",{value:"ano",children:"Ano"})]})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"ticketMedio",children:"Ticket MÃ©dio (R$) *"}),e.jsx(z,{id:"ticketMedio",type:"number",value:m,onChange:s=>N(s.target.value),placeholder:"Ex: 1200"})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"taxaConversao",children:"Taxa de ConversÃ£o (%)"}),e.jsx(z,{id:"taxaConversao",type:"number",value:j,onChange:s=>M(s.target.value),placeholder:"Ex: 20",min:"1",max:"100"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(ie,{onClick:Z,className:"w-full",children:"Calcular Meta"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(l,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Faturamento Atual ",!f&&"(dados reais)"]}),f?e.jsx("div",{className:"animate-pulse h-8 bg-gray-200 dark:bg-gray-700 rounded w-24"}):e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",t.faturamentoAtual.toLocaleString()]})]}),e.jsx(ne,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(l,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Trabalhos Feitos ",!f&&"(dados reais)"]}),f?e.jsx("div",{className:"animate-pulse h-8 bg-gray-200 dark:bg-gray-700 rounded w-16"}):e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.trabalhosFeitos})]}),e.jsx(ce,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(l,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Leads Gerados ",!f&&"(dados reais)"]}),f?e.jsx("div",{className:"animate-pulse h-8 bg-gray-200 dark:bg-gray-700 rounded w-16"}):e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t.leadsGerados})]}),e.jsx(V,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(l,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dias Restantes no MÃªs"}),f?e.jsx("div",{className:"animate-pulse h-8 bg-gray-200 dark:bg-gray-700 rounded w-16"}):e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.diasRestantes})]}),e.jsx(le,{className:"w-8 h-8 text-orange-600"})]})})})]}),a&&e.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[A&&e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A.icon,{className:`w-8 h-8 ${A.color}`}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-bold ${A.color}`,children:A.message}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Progresso atual: ",a.progressoPercentual.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",a.valorRestante.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"restantes"})]})]}),e.jsx(me,{value:a.progressoPercentual,className:"h-4"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[e.jsx("span",{children:"R$ 0"}),e.jsxs("span",{children:["R$ ",a.valorMeta.toLocaleString()]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(l,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center gap-2 text-lg",children:[e.jsx(ue,{className:"w-5 h-5"}),"Trabalhos NecessÃ¡rios"]})}),e.jsx(d,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:a.trabalhosNecessarios}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["total para ",U()]}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:a.trabalhosPorSemana})," por semana"]}),e.jsxs("p",{className:"text-muted-foreground",children:["Restam: ",e.jsx("strong",{children:a.trabalhosRestantes})]})]})]})})]}),e.jsxs(l,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center gap-2 text-lg",children:[e.jsx(V,{className:"w-5 h-5"}),"Leads NecessÃ¡rios"]})}),e.jsx(d,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:a.leadsNecessarios}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["total para ",U()]}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:a.leadsPorDia})," por dia"]}),e.jsxs("p",{className:"text-muted-foreground",children:["Restam: ",e.jsx("strong",{children:a.leadsRestantes})]})]})]})})]}),e.jsxs(l,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center gap-2 text-lg",children:[e.jsx(he,{className:"w-5 h-5"}),"Ritmo NecessÃ¡rio"]})}),e.jsx(d,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["R$ ",Math.round(a.ritmoNecessario).toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"por dia restante"}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsxs("p",{children:["Ritmo atual: ",e.jsxs("strong",{children:["R$ ",Math.round(a.ritmoAtual).toLocaleString(),"/dia"]})]}),e.jsx(O,{className:a.ritmoAtual>=a.ritmoNecessario?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:a.ritmoAtual>=a.ritmoNecessario?"No ritmo!":"Acelerar!"})]})]})})]})]}),B.length>0&&e.jsxs(l,{children:[e.jsxs(b,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-5 h-5"}),"AÃ§Ãµes Recomendadas"]}),e.jsx(q,{children:"Passos especÃ­ficos para atingir sua meta"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:B.map((s,i)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx(I,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.acao}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.dica})]})]},i))})})]}),e.jsxs(l,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5"}),"AnÃ¡lise Detalhada"]})}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Breakdown Financeiro"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Meta total:"}),e.jsxs("span",{className:"font-medium",children:["R$ ",a.valorMeta.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"JÃ¡ faturado:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",t.faturamentoAtual.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Restante:"}),e.jsxs("span",{className:"font-medium text-blue-600",children:["R$ ",a.valorRestante.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{children:"Ticket mÃ©dio:"}),e.jsxs("span",{className:"font-medium",children:["R$ ",parseFloat(m).toLocaleString()]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Performance"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxa de conversÃ£o:"}),e.jsxs("span",{className:"font-medium",children:[j,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Progresso temporal:"}),e.jsxs("span",{className:"font-medium",children:[Math.round((v()-t.diasRestantes)/v()*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"EficiÃªncia atual:"}),e.jsxs("span",{className:`font-medium ${a.progressoPercentual>=(v()-t.diasRestantes)/v()*100?"text-green-600":"text-red-600"}`,children:[a.progressoPercentual>=(v()-t.diasRestantes)/v()*100?"Acima":"Abaixo"," do esperado"]})]})]})]})]})})]})]}),u&&u.strategies.length>0&&e.jsx(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:e.jsxs(l,{children:[e.jsxs(b,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Plano EstratÃ©gico Personalizado"]}),e.jsx(q,{children:"EstratÃ©gias baseadas nos seus dados reais e mercado atual"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[u.strategies.map((s,i)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg",children:s.category}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.timeframe})]}),e.jsxs(O,{variant:s.impact==="Alto"?"destructive":s.impact==="MÃ©dio"?"default":"secondary",children:["Impacto ",s.impact]})]}),e.jsx("p",{className:"font-medium mb-2",children:s.action}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"TÃ¡ticas recomendadas:"}),e.jsx("ul",{className:"text-sm space-y-1",children:s.tactics.map((w,D)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),w]},D))})]})]},i)),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Resumo Executivo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Gap a cobrir:"})," R$ ",u.summary.totalGap.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Meta mensal:"})," R$ ",u.summary.monthlyGoal.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Leads necessÃ¡rios/mÃªs:"})," ",u.summary.requiredLeads]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Trabalhos necessÃ¡rios/mÃªs:"})," ",u.summary.requiredJobs]})]})]}),u.summary.recommendedPriceIncrease>0&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-100 dark:bg-yellow-900 rounded border-l-4 border-yellow-500",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"ðŸ’¡ RecomendaÃ§Ã£o:"})," Considere aumentar seu ticket mÃ©dio em R$ ",Math.round(u.summary.recommendedPriceIncrease),"para alinhar com o mercado e facilitar o atingimento da meta."]})})]})]})})]})}),e.jsxs(l,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5"}),"Dicas para Atingir suas Metas"]})}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"ðŸ“ˆ Aumentar Vendas:"}),e.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[e.jsx("li",{children:"â€¢ Melhore seu portfÃ³lio constantemente"}),e.jsx("li",{children:"â€¢ OfereÃ§a pacotes com diferentes valores"}),e.jsx("li",{children:"â€¢ Implemente sistema de indicaÃ§Ãµes"}),e.jsx("li",{children:"â€¢ Use gatilhos de escassez e urgÃªncia"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"ðŸŽ¯ Gerar Mais Leads:"}),e.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[e.jsx("li",{children:"â€¢ Invista em marketing digital"}),e.jsx("li",{children:"â€¢ Crie conteÃºdo relevante nas redes"}),e.jsx("li",{children:"â€¢ Participe de eventos do nicho"}),e.jsx("li",{children:"â€¢ Forme parcerias com outros profissionais"})]})]})]})})]})]})})};export{Le as default};
