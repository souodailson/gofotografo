import{r as o,e as v,j as e,m as t,M as m,B as c,k as u,I as b,n as g,s as j}from"./index-Dk_dtFm9.js";import{A as w}from"./AuthLayout-63jiH2bx.js";import{A as y}from"./arrow-left-B3p5D12a.js";const S=()=>{const[s,p]=o.useState(""),[i,n]=o.useState(!1),[l,x]=o.useState(!1),{toast:d}=v(),h=async r=>{r.preventDefault(),n(!0);try{const{error:a}=await j.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/update-password`});if(a)throw a;x(!0),d({title:"Link Enviado! üìß",description:"Se uma conta existir para este email, um link de redefini√ß√£o de senha foi enviado.",duration:1e4})}catch(a){d({title:"Erro ao Enviar Email üôÅ",description:a.message||"N√£o foi poss√≠vel enviar o email de redefini√ß√£o. Tente novamente.",variant:"destructive"})}finally{n(!1)}},f={hidden:{opacity:0,x:-15},visible:{opacity:1,x:0}};return e.jsxs(w,{title:"Redefinir Senha",description:"Insira seu email para receber um link de redefini√ß√£o.",children:[l?e.jsxs(t.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx(m,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"Verifique seu Email"}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:["Enviamos um link para ",s,". Siga as instru√ß√µes no email para redefinir sua senha."]}),e.jsx(c,{asChild:!0,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg",children:e.jsxs(u,{to:"/login",children:[e.jsx(y,{className:"w-4 h-4 mr-2"})," Voltar para Login"]})})]}):e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs(t.div,{variants:f,initial:"hidden",animate:"visible",transition:{delay:.1,duration:.3},children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 dark:text-slate-500"}),e.jsx(b,{id:"email",type:"email",value:s,onChange:r=>p(r.target.value),placeholder:"seu@email.com",required:!0,className:"pl-10"})]})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:e.jsxs(c,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg py-3 text-base font-semibold",disabled:i,children:[i?e.jsx(t.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}):e.jsx(g,{className:"w-5 h-5 mr-2"}),i?"Enviando...":"Enviar Link de Redefini√ß√£o"]})})]}),!l&&e.jsxs("p",{className:"mt-8 text-center text-sm text-slate-600 dark:text-slate-400",children:["Lembrou a senha?"," ",e.jsx(u,{to:"/login",className:"font-medium text-neutral-600 hover:text-purple-500 dark:text-purple-400 dark:hover:text-purple-300 transition-colors",children:"Fa√ßa login"})]})]})};export{S as default};
